(()=>{"use strict";var e={4:(e,t,n)=>{e.exports=n.p+"static/media/signal52.d6f541e638d5a2227a4e.png"},47:(e,t,n)=>{e.exports=n.p+"static/media/signal24.2b3ecfd781a270f58f3e.png"},158:(e,t,n)=>{e.exports=n.p+"static/media/image23.fc1cb6724142e7c58333.png"},281:(e,t,n)=>{e.exports=n.p+"static/media/image99.eeafe4838a4a991f8c0b.png"},427:(e,t,n)=>{e.exports=n.p+"static/media/image39.fdf4806fff6ff7793e87.png"},559:(e,t,n)=>{e.exports=n.p+"static/media/image48.9c4a727f3fe4c135837c.png"},569:(e,t,n)=>{e.exports=n.p+"static/media/signal48.47ae922c174925f2e524.png"},852:(e,t,n)=>{e.exports=n.p+"static/media/signal34.8794b465963f92d930e7.png"},974:(e,t,n)=>{e.exports=n.p+"static/media/image41.2a50067e3d3dac150733.png"},1043:(e,t,n)=>{e.exports=n.p+"static/media/image62.1ecc1035dc22dca3fafb.png"},1148:(e,t,n)=>{e.exports=n.p+"static/media/image65.699e671c362bf5a8ebb4.png"},1182:(e,t,n)=>{e.exports=n.p+"static/media/signal47.3b5388a1360cfd48595e.png"},1233:(e,t,n)=>{e.exports=n.p+"static/media/image55.2dd969313dc1735d27b4.png"},1276:(e,t,n)=>{e.exports=n.p+"static/media/image21.d1b9882d92f6c9bdaa0f.png"},1310:(e,t,n)=>{e.exports=n.p+"static/media/image34.816f9d7730a18c71ddc2.png"},1374:(e,t,n)=>{e.exports=n.p+"static/media/image96.6fe3f24222442444d15c.png"},1656:(e,t,n)=>{e.exports=n.p+"static/media/signal38.12c23ca0117599c5855e.png"},1661:(e,t,n)=>{e.exports=n.p+"static/media/signal26.661d3da80a8774fe189c.png"},1682:(e,t,n)=>{e.exports=n.p+"static/media/signal21.e742575d5a937ca10f9a.png"},1788:(e,t,n)=>{e.exports=n.p+"static/media/signal16.e6b9f9ab42bcc3ababe3.png"},1981:(e,t,n)=>{e.exports=n.p+"static/media/signal35.6c4f594b59d7c41481bc.png"},2016:(e,t,n)=>{e.exports=n.p+"static/media/signal23.8125bab117ff30733d62.png"},2059:(e,t,n)=>{e.exports=n.p+"static/media/image8.b7a952c7465b3136237c.png"},2218:(e,t,n)=>{e.exports=n.p+"static/media/image92.0287c647c517e33ffea1.png"},2243:(e,t,n)=>{e.exports=n.p+"static/media/signal2.df8c9835eb603d26b63b.png"},2250:(e,t,n)=>{e.exports=n.p+"static/media/image56.15d3e7edfe73cdf22306.png"},2322:(e,t,n)=>{e.exports=n.p+"static/media/image74.3757ea16fd002c03f748.png"},2384:(e,t,n)=>{e.exports=n.p+"static/media/signal9.6b31366738d7fa4d9fd1.png"},2385:(e,t,n)=>{e.exports=n.p+"static/media/image91.3be4f57e69f1c3ac2d34.png"},2439:(e,t,n)=>{e.exports=n.p+"static/media/image79.867241a81bca4979c7a3.png"},2499:(e,t,n)=>{e.exports=n.p+"static/media/image26.2e99011f63a2e7c4195b.png"},2674:(e,t,n)=>{e.exports=n.p+"static/media/signal18.2382104a25f327153b95.png"},2704:(e,t,n)=>{e.exports=n.p+"static/media/image69.a24690ba7b8f94d9607c.png"},2843:(e,t,n)=>{e.exports=n.p+"static/media/signal33.a9ecf847d309f569417c.png"},2958:(e,t,n)=>{e.exports=n.p+"static/media/image5.3ef0e7aec97aac87fa1e.png"},2981:(e,t,n)=>{e.exports=n.p+"static/media/signal44.ea572325840fa04bcb3c.png"},3011:(e,t,n)=>{e.exports=n.p+"static/media/image57.b64a67ccc5e151047759.png"},3033:(e,t,n)=>{e.exports=n.p+"static/media/image77.7263360b20378fcad085.png"},3037:(e,t,n)=>{e.exports=n.p+"static/media/signal53.bf0aa76146398da93d7f.png"},3179:(e,t,n)=>{e.exports=n.p+"static/media/signal19.9f909d745e2837348199.png"},3193:(e,t,n)=>{e.exports=n.p+"static/media/signal31.1847138571989930dab2.png"},3206:(e,t,n)=>{e.exports=n.p+"static/media/image70.0cc2c1b9477c419f94f9.png"},3227:(e,t,n)=>{e.exports=n.p+"static/media/signal20.fd0558aebe2c82e025e7.png"},3290:(e,t,n)=>{e.exports=n.p+"static/media/image63.eeab7dd4324a904c6ec3.png"},3311:(e,t,n)=>{e.exports=n.p+"static/media/signal37.0d94720e8fcf2678d454.png"},3355:(e,t,n)=>{e.exports=n.p+"static/media/image88.e260952499ed94b89fcc.png"},3386:(e,t,n)=>{e.exports=n.p+"static/media/signal3.18ba35b22d38bf8f3e5f.png"},3523:(e,t,n)=>{e.exports=n.p+"static/media/signal42.f8c204f325801895e4c8.png"},3564:(e,t,n)=>{e.exports=n.p+"static/media/signal45.a0ed7872107afcbb9c76.png"},3576:(e,t,n)=>{e.exports=n.p+"static/media/signal12.c3fddf027a9835a43900.png"},3614:(e,t,n)=>{e.exports=n.p+"static/media/image82.a0258b7f925a23d72c75.png"},3626:(e,t,n)=>{e.exports=n.p+"static/media/signal10.953124381df2ba517088.png"},3652:(e,t,n)=>{n.r(t),n.d(t,{default:()=>sn});var r=n(467),o=n(296),a=n(6986),i=n(2455),s=n(6665),l=n(530),c=n(1815),d=n(3668),u=n(6283),f=n(3929),g=n(8833),p=n(1087),m=n(2614),h=n(6835);const x={navigation:{home:"Dom\u016f",browse:"Proch\xe1zet",exam:"Zkou\u0161ka",favorites:"Obl\xedben\xe9",mistakes:"Chyby",settings:"Nastaven\xed",question_detail:"Detail ot\xe1zky",exam_result:"V\xfdsledek zkou\u0161ky"},home:{title:"Aplikace pro \u0159idi\u010dsk\xfd pr\u016fkaz \u010cR",subtitle:"P\u0159ipravte se na \u010deskou \u0159idi\u010dskou zkou\u0161ku s na\u0161\xed komplexn\xed p\u0159\xedru\u010dkou",startExam:"Za\u010d\xedt zkou\u0161ku",examDescription:"Za\u010dn\u011bte simulovanou zkou\u0161ku s 25 n\xe1hodn\xfdmi ot\xe1zkami",browseTopic:"Proch\xe1zet ot\xe1zky",browseDescription:"Prozkoumat v\u0161echny ot\xe1zky podle kategorie",reviewMistakes:"P\u0159ehled chyb",mistakesDescription:"Procvi\u010dte si ot\xe1zky, kter\xe9 jste zodpov\u011bd\u011bli \u0161patn\u011b",favorites:"Obl\xedben\xe9",favoritesDescription:"P\u0159ehled va\u0161ich ulo\u017een\xfdch ot\xe1zek",studyStats:"Statistiky studia",examsTaken:"Zkou\u0161ky",questionsAnswered:"Ot\xe1zky",accuracy:"P\u0159esnost"},browse:{title:"Proch\xe1zet ot\xe1zky",allQuestions:"V\u0161echny ot\xe1zky",search:"Hledat ot\xe1zky",categories:{traffic_signs:"Dopravn\xed zna\u010dky",traffic_rules:"Dopravn\xed pravidla",priority:"Pravidla p\u0159ednosti",parking:"Pravidla parkov\xe1n\xed",speed_limits:"Rychlostn\xed limity",highway:"Pravidla d\xe1lnice",penalties:"Pokuty",general:"Obecn\xe9"},noQuestionsFound:"Nebyly nalezeny \u017e\xe1dn\xe9 ot\xe1zky odpov\xeddaj\xedc\xed va\u0161im krit\xe9ri\xedm"},exam:{title:"\u0158idi\u010dsk\xe1 zkou\u0161ka",subtitle:"Otestujte sv\xe9 znalosti \u0159\xedzen\xed",start:"Za\u010d\xedt zkou\u0161ku",description:"Zkou\u0161ka se skl\xe1d\xe1 z 25 n\xe1hodn\xfdch ot\xe1zek z r\u016fzn\xfdch kategori\xed. Pro \xfasp\u011b\u0161n\xe9 slo\u017een\xed pot\u0159ebujete zodpov\u011bd\u011bt alespo\u0148 20 spr\xe1vn\u011b.",timeLimit:"\u010casov\xfd limit: 30 minut",questionCount:"Ot\xe1zka: {{current}} z {{total}}",timeRemaining:"\u010cas: {{minutes}}:{{seconds}}",submit:"Odeslat odpov\u011bdi",next:"Dal\u0161\xed",previous:"P\u0159edchoz\xed",finishExam:"Dokon\u010dit zkou\u0161ku",chooseMode:"Vyberte re\u017eim zkou\u0161ky",customExam:"Vlastn\xed zkou\u0161ka",questionCount:"Po\u010det ot\xe1zek (5-50)",timeLimit:"\u010casov\xfd limit (minuty, 0 pro neomezen\xfd)",cancel:"Zru\u0161it",examPreparation:"Informace o zkou\u0161ce",examInfo:"\u2022 \u010cesk\xe1 teoretick\xe1 zkou\u0161ka m\xe1 25 ot\xe1zek, pot\u0159ebujete 20 spr\xe1vn\xfdch odpov\u011bd\xed pro \xfasp\u011b\u0161n\xe9 slo\u017een\xed\n\u2022 \u010casov\xfd limit je 30 minut\n\u2022 Pros\xedm, absolvujte zkou\u0161ku v klidn\xe9m prost\u0159ed\xed\n\u2022 B\u011bhem zkou\u0161ky neukon\u010dujte aplikaci"},question:{selectAnswer:"Vyberte odpov\u011b\u010f",checkAnswer:"Zkontrolovat odpov\u011b\u010f",correct:"Spr\xe1vn\u011b",incorrect:"Nespr\xe1vn\u011b",explanation:"Vysv\u011btlen\xed",nextQuestion:"Dal\u0161\xed ot\xe1zka",loading:"Na\u010d\xedt\xe1n\xed ot\xe1zky..."},result:{title:"V\xfdsledky zkou\u0161ky",passed:"Gratulujeme! \xdasp\u011b\u0161n\u011b jste slo\u017eili zkou\u0161ku!",failed:"Bohu\u017eel jste neusp\u011bli.",score:"Sk\xf3re: {{correct}}/{{total}}",requiredToPass:"Po\u017eadov\xe1no ke slo\u017een\xed: 20/25",reviewIncorrect:"P\u0159ehled nespr\xe1vn\xfdch odpov\u011bd\xed",retakeExam:"Opakovat zkou\u0161ku",backToHome:"Zp\u011bt na \xfavod",examDetails:"Detaily ot\xe1zek",yourAnswer:"Va\u0161e odpov\u011b\u010f:",correctAnswer:"Spr\xe1vn\xe1 odpov\u011b\u010f:",viewExplanation:"Zobrazit vysv\u011btlen\xed",timeSpent:"Str\xe1ven\xfd \u010das",correctCount:"Spr\xe1vn\u011b",incorrectCount:"Nespr\xe1vn\u011b"},favorites:{title:"Obl\xedben\xe9 ot\xe1zky",noFavorites:"Zat\xedm jste nep\u0159idali \u017e\xe1dn\xe9 obl\xedben\xe9 polo\u017eky",browseToAdd:"Proch\xe1zejte ot\xe1zky a klepnut\xedm na ikonu srdce ulo\u017ete d\u016fle\u017eit\xe9 ot\xe1zky",browseCatalog:"Proch\xe1zet ot\xe1zky",removeFavorite:"Odstranit z obl\xedben\xfdch",addFavorite:"P\u0159idat do obl\xedben\xfdch",edit:"Upravit",cancel:"Zru\u0161it",delete:"Smazat",selectAll:"Vybrat v\u0161e",deselectAll:"Zru\u0161it v\xfdb\u011br",favoritesCount:"{{count}} ulo\u017een\xfdch ot\xe1zek",viewDetails:"Zobrazit detaily"},mistakes:{title:"Chybn\xe9 ot\xe1zky",noMistakes:"Zat\xedm nem\xe1te \u017e\xe1dn\xe9 chyby!",practiceToContinue:"Pokra\u010dujte v procvi\u010dov\xe1n\xed, ot\xe1zky, kter\xe9 zodpov\xedte nespr\xe1vn\u011b, se objev\xed zde",startPractice:"Za\u010d\xedt procvi\u010dov\xe1n\xed",mistakesCount:"{{count}} chybn\xfdch ot\xe1zek",sortNewest:"Nejnov\u011bj\u0161\xed",sortOldest:"Nejstar\u0161\xed",clearAll:"Vymazat v\u0161e",clearConfirm:"Opravdu chcete vymazat v\u0161echny z\xe1znamy o chyb\xe1ch? Tuto akci nelze vr\xe1tit zp\u011bt.",viewExplanation:"Zobrazit vysv\u011btlen\xed"},settings:{title:"Nastaven\xed",subtitle:"P\u0159izp\u016fsobte si svou aplikaci",language:"Jazyk",about:"O aplikaci",version:"Verze",resetData:"Resetovat v\u0161echna data",resetConfirm:"Jste si jisti? T\xedmto sma\u017eete v\u0161echna ulo\u017een\xe1 data a akci nelze vr\xe1tit zp\u011bt.",resetSuccess:"V\u0161echna data byla resetov\xe1na.",languages:{en:"Angli\u010dtina",zh:"\u010c\xedn\u0161tina",cs:"\u010ce\u0161tina",es:"\u0160pan\u011bl\u0161tina"},appSettings:"Nastaven\xed aplikace",dailyReminder:"Denn\xed p\u0159ipomenut\xed",reminderDescription:"Dost\xe1vat denn\xed p\u0159ipomenut\xed ke studiu",darkMode:"Tmav\xfd re\u017eim",darkModeDescription:"Pou\u017e\xedt no\u010dn\xed re\u017eim pro ochranu o\u010d\xed",appInfo:"Informace o aplikaci",rateApp:"Ohodnotit aplikaci",privacyPolicy:"Z\xe1sady ochrany osobn\xedch \xfadaj\u016f",appVersion:"Aplikace pro \u0159idi\u010dsk\xfd pr\u016fkaz \u010cR v1.0.0"},common:{loading:"Na\u010d\xedt\xe1n\xed...",error:"Chyba",cancel:"Zru\u0161it",confirm:"Potvrdit",save:"Ulo\u017eit",delete:"Smazat",edit:"Upravit",done:"Hotovo",yes:"Ano",no:"Ne"}};const y={navigation:{home:"Home",browse:"Browse",exam:"Exam",favorites:"Favorites",mistakes:"Mistakes",settings:"Settings",question_detail:"Question Detail",exam_result:"Exam Result",study_progress:"Study Progress"},home:{title:"Czech Driving License App",subtitle:"Prepare for your Czech driving test with our comprehensive guide",startExam:"Start Exam",examDescription:"Start a simulated driving test with 25 random questions",browseTopic:"Browse Questions",browseDescription:"Explore all questions by category",reviewMistakes:"Review Mistakes",mistakesDescription:"Practice the questions you got wrong",favorites:"Favorites",favoritesDescription:"Review your saved questions",studyStats:"Study Statistics",examsTaken:"Exams",questionsAnswered:"Questions",accuracy:"Accuracy"},browse:{title:"Browse Questions",allQuestions:"All Questions",search:"Search questions",categories:{traffic_signs:"Traffic Signs",traffic_rules:"Traffic Rules",priority:"Priority Rules",parking:"Parking Rules",speed_limits:"Speed Limits",highway:"Highway Rules",penalties:"Penalties",general:"General"},noQuestionsFound:"No questions found matching your criteria"},exam:{title:"Driving Test",subtitle:"Test your driving knowledge",start:"Start Test",description:"The test consists of 25 random questions from different categories. You need to answer at least 20 correctly to pass.",timeLimit:"Time Limit: 30 minutes",questionCount:"Question: {{current}} of {{total}}",timeRemaining:"Time: {{minutes}}:{{seconds}}",submit:"Submit Answers",next:"Next",previous:"Previous",finishExam:"Finish Exam",chooseMode:"Choose Exam Mode",customExam:"Custom Exam",questionCount:"Question Count (5-50)",timeLimit:"Time Limit (minutes, 0 for unlimited)",cancel:"Cancel",examPreparation:"Exam Information",examInfo:"About Czech Driving Test",examInfoLine1:"The test has 25 questions, you need 20 correct answers to pass",examInfoLine2:"The time limit is 30 minutes",examInfoLine3:"Topics include traffic rules, signs, and safe driving",examInfoLine4:"This app provides a complete question bank and multilingual support",fullExam:"Full Exam",practiceMode:"Practice Mode",quickTest:"Quick Test",exam:"Exam"},question:{selectAnswer:"Select an answer",checkAnswer:"Check Answer",correct:"Correct",incorrect:"Incorrect",explanation:"Explanation",nextQuestion:"Next Question",loading:"Loading question..."},result:{title:"Exam Results",passed:"Congratulations! You passed!",failed:"Unfortunately, you did not pass.",score:"Score: {{correct}}/{{total}}",requiredToPass:"Required to pass: 20/25",reviewIncorrect:"Review Incorrect Answers",retakeExam:"Retake Exam",backToHome:"Back to Home",examDetails:"Question Details",yourAnswer:"Your answer:",correctAnswer:"Correct answer:",viewExplanation:"View Explanation",timeSpent:"Time spent",correctCount:"Correct",incorrectCount:"Incorrect"},favorites:{title:"Favorite Questions",noFavorites:"You haven't added any favorites yet",browseToAdd:"Browse questions and tap the heart icon to save important questions",browseCatalog:"Browse Questions",removeFavorite:"Remove from Favorites",addFavorite:"Add to Favorites",edit:"Edit",cancel:"Cancel",delete:"Delete",selectAll:"Select All",deselectAll:"Deselect All",favoritesCount:"{{count}} questions saved",viewDetails:"View Details"},mistakes:{title:"Mistake Questions",noMistakes:"You haven't made any mistakes yet!",practiceToContinue:"Continue practicing, questions you answer incorrectly will appear here",startPractice:"Start Practice",mistakesCount:"{{count}} mistake questions",sortNewest:"Newest",sortOldest:"Oldest",clearAll:"Clear All",clearConfirm:"Are you sure you want to clear all mistake records? This cannot be undone.",viewExplanation:"View Explanation"},progress:{title:"Study Progress",totalExams:"Total Exams",totalQuestions:"Total Questions",averageAccuracy:"Avg. Accuracy",recentActivity:"Recent Activity",noHistory:"No study history yet",startExam:"Take an exam to start tracking your progress",clearHistory:"Clear History",clearProgressConfirm:"Are you sure you want to clear all study progress? This cannot be undone.",clearProgressSuccess:"Study progress has been cleared",clearProgressError:"Failed to clear study progress",questions:"Questions",correct:"Correct",accuracy:"Accuracy",accuracyTrend:"Accuracy Trend",questionStats:"Question Statistics",notEnoughData:"At least 2 exam records needed to show trend",noData:"No data available"},settings:{title:"Settings",subtitle:"Personalize your app experience",language:"Language",about:"About",version:"Version",resetData:"Reset All Data",resetConfirm:"Are you sure? This will delete all your saved data and cannot be undone.",resetSuccess:"All data has been reset.",languages:{en:"English",zh:"Chinese",cs:"Czech",es:"Spanish"},appSettings:"App Settings",dailyReminder:"Daily Reminder",reminderDescription:"Receive daily study reminders",darkMode:"Dark Mode",darkModeDescription:"Use night mode to protect your eyes",appInfo:"App Information",rateApp:"Rate App",privacyPolicy:"Privacy Policy",appVersion:"Czech Driving License App v1.0.0"},common:{loading:"Loading...",error:"Error",cancel:"Cancel",confirm:"Confirm",save:"Save",delete:"Delete",edit:"Edit",done:"Done",yes:"Yes",no:"No",success:"Success"}};const b={navigation:{home:"Inicio",browse:"Explorar",exam:"Examen",favorites:"Favoritos",mistakes:"Errores",settings:"Ajustes",question_detail:"Detalle de pregunta",exam_result:"Resultado del examen"},home:{title:"App de Licencia de Conducir Checa",subtitle:"Prep\xe1rate para tu examen de conducir checo con nuestra gu\xeda completa",startExam:"Iniciar Examen",examDescription:"Comienza un examen simulado con 25 preguntas aleatorias",browseTopic:"Explorar Preguntas",browseDescription:"Explora todas las preguntas por categor\xeda",reviewMistakes:"Revisar Errores",mistakesDescription:"Practica las preguntas que respondiste incorrectamente",favorites:"Favoritos",favoritesDescription:"Revisa tus preguntas guardadas",studyStats:"Estad\xedsticas de Estudio",examsTaken:"Ex\xe1menes",questionsAnswered:"Preguntas",accuracy:"Precisi\xf3n"},browse:{title:"Explorar Preguntas",allQuestions:"Todas las Preguntas",search:"Buscar preguntas",categories:{traffic_signs:"Se\xf1ales de Tr\xe1fico",traffic_rules:"Normas de Tr\xe1fico",priority:"Reglas de Prioridad",parking:"Reglas de Estacionamiento",speed_limits:"L\xedmites de Velocidad",highway:"Reglas de Autopista",penalties:"Sanciones",general:"General"},noQuestionsFound:"No se encontraron preguntas que coincidan con tus criterios"},exam:{title:"Examen de Conducir",subtitle:"Pon a prueba tus conocimientos de conducci\xf3n",start:"Iniciar Examen",description:"El examen consta de 25 preguntas aleatorias de diferentes categor\xedas. Necesitas responder correctamente al menos 20 para aprobar.",timeLimit:"L\xedmite de tiempo: 30 minutos",questionCount:"Pregunta: {{current}} de {{total}}",timeRemaining:"Tiempo: {{minutes}}:{{seconds}}",submit:"Enviar Respuestas",next:"Siguiente",previous:"Anterior",finishExam:"Finalizar Examen",chooseMode:"Elegir Modo de Examen",customExam:"Examen Personalizado",questionCount:"N\xfamero de preguntas (5-50)",timeLimit:"L\xedmite de tiempo (minutos, 0 para ilimitado)",cancel:"Cancelar",examPreparation:"Informaci\xf3n del Examen",examInfo:"\u2022 El examen te\xf3rico checo tiene 25 preguntas, necesitas 20 respuestas correctas para aprobar\n\u2022 El l\xedmite de tiempo es de 30 minutos\n\u2022 Por favor, realiza el examen en un ambiente tranquilo\n\u2022 No salgas de la aplicaci\xf3n durante el examen"},question:{selectAnswer:"Selecciona una respuesta",checkAnswer:"Comprobar Respuesta",correct:"Correcto",incorrect:"Incorrecto",explanation:"Explicaci\xf3n",nextQuestion:"Siguiente Pregunta",loading:"Cargando pregunta..."},result:{title:"Resultados del Examen",passed:"\xa1Felicidades! \xa1Has aprobado!",failed:"Lamentablemente, no has aprobado.",score:"Puntuaci\xf3n: {{correct}}/{{total}}",requiredToPass:"Necesario para aprobar: 20/25",reviewIncorrect:"Revisar Respuestas Incorrectas",retakeExam:"Volver a Hacer el Examen",backToHome:"Volver al Inicio",examDetails:"Detalles de Preguntas",yourAnswer:"Tu respuesta:",correctAnswer:"Respuesta correcta:",viewExplanation:"Ver Explicaci\xf3n",timeSpent:"Tiempo empleado",correctCount:"Correctas",incorrectCount:"Incorrectas"},favorites:{title:"Preguntas Favoritas",noFavorites:"A\xfan no has a\xf1adido ning\xfan favorito",browseToAdd:"Explora preguntas y toca el icono de coraz\xf3n para guardar preguntas importantes",browseCatalog:"Explorar Preguntas",removeFavorite:"Eliminar de Favoritos",addFavorite:"A\xf1adir a Favoritos",edit:"Editar",cancel:"Cancelar",delete:"Eliminar",selectAll:"Seleccionar Todo",deselectAll:"Deseleccionar Todo",favoritesCount:"{{count}} preguntas guardadas",viewDetails:"Ver Detalles"},mistakes:{title:"Preguntas Err\xf3neas",noMistakes:"\xa1A\xfan no has cometido ning\xfan error!",practiceToContinue:"Contin\xfaa practicando, las preguntas que respondas incorrectamente aparecer\xe1n aqu\xed",startPractice:"Comenzar Pr\xe1ctica",mistakesCount:"{{count}} preguntas err\xf3neas",sortNewest:"M\xe1s recientes",sortOldest:"M\xe1s antiguas",clearAll:"Borrar Todo",clearConfirm:"\xbfEst\xe1s seguro de que quieres borrar todos los registros de errores? Esta acci\xf3n no se puede deshacer.",viewExplanation:"Ver Explicaci\xf3n"},settings:{title:"Ajustes",subtitle:"Personaliza tu experiencia en la aplicaci\xf3n",language:"Idioma",about:"Acerca de",version:"Versi\xf3n",resetData:"Resetear Todos los Datos",resetConfirm:"\xbfEst\xe1s seguro? Esto eliminar\xe1 todos tus datos guardados y no se puede deshacer.",resetSuccess:"Todos los datos han sido reseteados.",languages:{en:"Ingl\xe9s",zh:"Chino",cs:"Checo",es:"Espa\xf1ol"},appSettings:"Ajustes de la Aplicaci\xf3n",dailyReminder:"Recordatorio Diario",reminderDescription:"Recibir recordatorios diarios de estudio",darkMode:"Modo Oscuro",darkModeDescription:"Usar modo nocturno para proteger tus ojos",appInfo:"Informaci\xf3n de la Aplicaci\xf3n",rateApp:"Valorar Aplicaci\xf3n",privacyPolicy:"Pol\xedtica de Privacidad",appVersion:"App de Licencia de Conducir Checa v1.0.0"},common:{loading:"Cargando...",error:"Error",cancel:"Cancelar",confirm:"Confirmar",save:"Guardar",delete:"Eliminar",edit:"Editar",done:"Hecho",yes:"S\xed",no:"No"}};const v={navigation:{home:"\u9996\u9875",browse:"\u6d4f\u89c8",exam:"\u8003\u8bd5",favorites:"\u6536\u85cf",mistakes:"\u9519\u9898",settings:"\u8bbe\u7f6e",question_detail:"\u9898\u76ee\u8be6\u60c5",exam_result:"\u8003\u8bd5\u7ed3\u679c",study_progress:"\u5b66\u4e60\u8fdb\u5ea6"},home:{title:"\u6377\u514b\u9a7e\u8003\u5b9d\u5178",subtitle:"\u5168\u9762\u5e2e\u52a9\u60a8\u51c6\u5907\u6377\u514b\u9a7e\u9a76\u8003\u8bd5",startExam:"\u5f00\u59cb\u8003\u8bd5",examDescription:"\u5f00\u59cb\u6a21\u62df\u9a7e\u7167\u8003\u8bd5\uff0c\u517130\u9053\u968f\u673a\u9898\u76ee",browseTopic:"\u6d4f\u89c8\u9898\u5e93",browseDescription:"\u6309\u7c7b\u522b\u67e5\u770b\u6240\u6709\u8003\u9898",reviewMistakes:"\u590d\u4e60\u9519\u9898",mistakesDescription:"\u7ec3\u4e60\u4e4b\u524d\u7b54\u9519\u7684\u95ee\u9898",favorites:"\u6211\u7684\u6536\u85cf",favoritesDescription:"\u590d\u4e60\u4fdd\u5b58\u7684\u9898\u76ee",studyStats:"\u5b66\u4e60\u7edf\u8ba1",examsTaken:"\u8003\u8bd5\u6b21\u6570",questionsAnswered:"\u5df2\u7b54\u9898\u76ee",accuracy:"\u6b63\u786e\u7387"},browse:{title:"\u6d4f\u89c8\u9898\u5e93",allQuestions:"\u6240\u6709\u9898\u76ee",search:"\u641c\u7d22\u9898\u76ee",categories:{traffic_signs:"\u4ea4\u901a\u6807\u5fd7",traffic_rules:"\u4ea4\u901a\u89c4\u5219",priority:"\u4f18\u5148\u901a\u884c\u6743",parking:"\u505c\u8f66\u89c4\u5219",speed_limits:"\u901f\u5ea6\u9650\u5236",highway:"\u9ad8\u901f\u516c\u8def",penalties:"\u8fdd\u7ae0\u5904\u7f5a",general:"\u4e00\u822c\u95ee\u9898"},noQuestionsFound:"\u6ca1\u6709\u627e\u5230\u5339\u914d\u7684\u9898\u76ee"},exam:{title:"\u9a7e\u7167\u8003\u8bd5",subtitle:"\u6d4b\u8bd5\u60a8\u7684\u9a7e\u7167\u77e5\u8bc6",start:"\u5f00\u59cb\u8003\u8bd5",description:"\u8003\u8bd5\u5305\u62ec25\u9053\u6765\u81ea\u4e0d\u540c\u7c7b\u522b\u7684\u968f\u673a\u9898\u76ee\u3002\u8981\u901a\u8fc7\u8003\u8bd5\uff0c\u81f3\u5c11\u9700\u8981\u7b54\u5bf920\u9898\u3002",timeLimit:"\u65f6\u95f4\u9650\u5236\uff1a30\u5206\u949f",questionCount:"\u95ee\u9898: {{current}}/{{total}}",timeRemaining:"\u65f6\u95f4: {{minutes}}:{{seconds}}",submit:"\u63d0\u4ea4\u7b54\u6848",next:"\u4e0b\u4e00\u9898",previous:"\u4e0a\u4e00\u9898",finishExam:"\u5b8c\u6210\u8003\u8bd5",chooseMode:"\u9009\u62e9\u8003\u8bd5\u6a21\u5f0f",customExam:"\u81ea\u5b9a\u4e49\u8003\u8bd5",questionCount:"\u9898\u76ee\u6570\u91cf (5-50)",timeLimit:"\u65f6\u95f4\u9650\u5236 (\u5206\u949f\uff0c0\u4e3a\u65e0\u9650\u5236)",cancel:"\u53d6\u6d88",examPreparation:"\u8003\u8bd5\u987b\u77e5",examInfo:"\u5173\u4e8e\u6377\u514b\u9a7e\u7167\u8003\u8bd5",examInfoLine1:"\u8003\u8bd5\u5305\u542b25\u9053\u9009\u62e9\u9898\uff0c\u7b54\u5bf9\u81f3\u5c1120\u9898\u624d\u80fd\u901a\u8fc7",examInfoLine2:"\u8003\u8bd5\u65f6\u95f4\u4e3a30\u5206\u949f",examInfoLine3:"\u8003\u8bd5\u5185\u5bb9\u5305\u62ec\u4ea4\u901a\u89c4\u5219\u3001\u6807\u5fd7\u548c\u5b89\u5168\u9a7e\u9a76",examInfoLine4:"\u672c\u5e94\u7528\u63d0\u4f9b\u5b8c\u6574\u7684\u9898\u5e93\u548c\u591a\u8bed\u8a00\u652f\u6301",fullExam:"\u5b8c\u6574\u6a21\u62df",practiceMode:"\u7ec3\u4e60\u6a21\u5f0f",quickTest:"\u5feb\u901f\u6d4b\u8bd5",exam:"\u8003\u8bd5"},question:{selectAnswer:"\u9009\u62e9\u7b54\u6848",checkAnswer:"\u68c0\u67e5\u7b54\u6848",correct:"\u6b63\u786e",incorrect:"\u9519\u8bef",explanation:"\u89e3\u91ca",nextQuestion:"\u4e0b\u4e00\u9898",loading:"\u52a0\u8f7d\u9898\u76ee\u4e2d..."},result:{title:"\u8003\u8bd5\u7ed3\u679c",passed:"\u606d\u559c\uff0c\u8003\u8bd5\u901a\u8fc7\uff01",failed:"\u5f88\u9057\u61be\uff0c\u8003\u8bd5\u672a\u901a\u8fc7",score:"\u5f97\u5206: {{correct}}/{{total}}",requiredToPass:"\u901a\u8fc7\u8981\u6c42: 20/25",reviewIncorrect:"\u590d\u4e60\u9519\u9898",retakeExam:"\u91cd\u65b0\u8003\u8bd5",backToHome:"\u8fd4\u56de\u9996\u9875",examDetails:"\u9898\u76ee\u8be6\u60c5",yourAnswer:"\u60a8\u7684\u56de\u7b54:",correctAnswer:"\u6b63\u786e\u7b54\u6848:",viewExplanation:"\u67e5\u770b\u89e3\u6790",timeSpent:"\u7528\u65f6",correctCount:"\u6b63\u786e",incorrectCount:"\u9519\u8bef"},favorites:{title:"\u6536\u85cf\u9898\u76ee",noFavorites:"\u60a8\u8fd8\u6ca1\u6709\u6dfb\u52a0\u4efb\u4f55\u6536\u85cf\u9898\u76ee",browseToAdd:"\u6d4f\u89c8\u9898\u5e93\u65f6\u70b9\u51fb\u5fc3\u5f62\u56fe\u6807\u6765\u6536\u85cf\u91cd\u8981\u9898\u76ee",browseCatalog:"\u6d4f\u89c8\u9898\u5e93",removeFavorite:"\u53d6\u6d88\u6536\u85cf",addFavorite:"\u6dfb\u52a0\u6536\u85cf",edit:"\u7f16\u8f91",cancel:"\u53d6\u6d88",delete:"\u5220\u9664",selectAll:"\u5168\u9009",deselectAll:"\u53d6\u6d88\u5168\u9009",favoritesCount:"\u5df2\u6536\u85cf {{count}} \u4e2a\u9898\u76ee",viewDetails:"\u67e5\u770b\u8be6\u60c5"},mistakes:{title:"\u9519\u9898\u8bb0\u5f55",noMistakes:"\u60a8\u8fd8\u6ca1\u6709\u4efb\u4f55\u9519\u9898\u8bb0\u5f55!",practiceToContinue:"\u7ee7\u7eed\u5237\u9898\uff0c\u7b54\u9519\u7684\u9898\u76ee\u5c06\u81ea\u52a8\u8bb0\u5f55\u5728\u8fd9\u91cc",startPractice:"\u5f00\u59cb\u505a\u9898",mistakesCount:"\u5171\u6709 {{count}} \u9053\u9519\u9898",sortNewest:"\u6700\u65b0",sortOldest:"\u6700\u65e9",clearAll:"\u6e05\u7a7a",clearConfirm:"\u786e\u5b9a\u8981\u6e05\u7a7a\u6240\u6709\u9519\u9898\u8bb0\u5f55\u5417\uff1f\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\u3002",viewExplanation:"\u67e5\u770b\u89e3\u6790"},progress:{title:"\u5b66\u4e60\u8fdb\u5ea6",totalExams:"\u8003\u8bd5\u603b\u6570",totalQuestions:"\u9898\u76ee\u603b\u6570",averageAccuracy:"\u5e73\u5747\u6b63\u786e\u7387",recentActivity:"\u6700\u8fd1\u6d3b\u52a8",noHistory:"\u6682\u65e0\u5b66\u4e60\u8bb0\u5f55",startExam:"\u53c2\u52a0\u8003\u8bd5\u5f00\u59cb\u8bb0\u5f55\u60a8\u7684\u5b66\u4e60\u8fdb\u5ea6",clearHistory:"\u6e05\u9664\u5386\u53f2",clearProgressConfirm:"\u786e\u5b9a\u8981\u6e05\u9664\u6240\u6709\u5b66\u4e60\u8fdb\u5ea6\u8bb0\u5f55\u5417\uff1f\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\u3002",clearProgressSuccess:"\u5b66\u4e60\u8fdb\u5ea6\u5df2\u6e05\u9664",clearProgressError:"\u6e05\u9664\u5b66\u4e60\u8fdb\u5ea6\u5931\u8d25",questions:"\u9898\u76ee",correct:"\u6b63\u786e",accuracy:"\u6b63\u786e\u7387",accuracyTrend:"\u6b63\u786e\u7387\u8d8b\u52bf",questionStats:"\u7b54\u9898\u7edf\u8ba1",notEnoughData:"\u81f3\u5c11\u9700\u89812\u6b21\u8003\u8bd5\u8bb0\u5f55\u624d\u80fd\u663e\u793a\u8d8b\u52bf\u56fe",noData:"\u6682\u65e0\u6570\u636e"},settings:{title:"\u8bbe\u7f6e",subtitle:"\u4e2a\u6027\u5316\u60a8\u7684\u5e94\u7528\u4f53\u9a8c",language:"\u8bed\u8a00\u8bbe\u7f6e",about:"\u5173\u4e8e\u5e94\u7528",version:"\u7248\u672c\u53f7",resetData:"\u91cd\u7f6e\u6240\u6709\u6570\u636e",resetConfirm:"\u786e\u5b9a\u5417\uff1f\u8fd9\u5c06\u5220\u9664\u60a8\u4fdd\u5b58\u7684\u6240\u6709\u6570\u636e\uff0c\u4e14\u65e0\u6cd5\u6062\u590d\u3002",resetSuccess:"\u6240\u6709\u6570\u636e\u5df2\u91cd\u7f6e\u3002",languages:{en:"\u82f1\u8bed",zh:"\u4e2d\u6587",cs:"\u6377\u514b\u8bed",es:"\u897f\u73ed\u7259\u8bed"},appSettings:"\u5e94\u7528\u8bbe\u7f6e",dailyReminder:"\u6bcf\u65e5\u63d0\u9192",reminderDescription:"\u63a5\u6536\u6bcf\u65e5\u5b66\u4e60\u63d0\u9192",darkMode:"\u6697\u9ed1\u6a21\u5f0f",darkModeDescription:"\u4f7f\u7528\u591c\u95f4\u6a21\u5f0f\u4fdd\u62a4\u773c\u775b",appInfo:"\u5e94\u7528\u4fe1\u606f",rateApp:"\u8bc4\u5206\u5e94\u7528",privacyPolicy:"\u9690\u79c1\u653f\u7b56",appVersion:"\u6377\u514b\u9a7e\u8003\u5b9d\u5178 v1.0.0"},common:{loading:"\u52a0\u8f7d\u4e2d...",error:"\u9519\u8bef",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4",save:"\u4fdd\u5b58",delete:"\u5220\u9664",edit:"\u7f16\u8f91",done:"\u5b8c\u6210",yes:"\u662f",no:"\u5426",success:"\u6210\u529f"}};var j=!1,w=function(){var e=(0,r.default)((function*(){if(!j){var e="zh";try{var t=yield p.default.getItem("userLanguage");t&&(e=t)}catch(n){console.error("Failed to load language setting",n)}return yield m.default.use(h.initReactI18next).init({resources:{en:{translation:y},zh:{translation:v},cs:{translation:x},es:{translation:b}},lng:e,fallbackLng:"zh",interpolation:{escapeValue:!1},compatibilityJSON:"v3"}),j=!0,m.default}console.log("i18n already initialized, skipping")}));return function(){return e.apply(this,arguments)}}(),C=function(){return j};const S=w;var T=n(8896),k=n(3344),I=n(1635),E=n(5458),z=n(4467),O=n(8179),A=n(1690),B=n(6725),D=n(932),q=n(484),P=n(4701),R=n(6773),N=n(5648),F=n(397),L=d.default.create({container:{flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8,paddingHorizontal:8,backgroundColor:"rgba(255,255,255,0.9)",borderRadius:20,alignSelf:"center"},languageButton:{paddingVertical:6,paddingHorizontal:12,borderRadius:16,marginHorizontal:4},activeLanguageButton:{backgroundColor:"#4c669f"},languageText:{fontSize:14,color:"#666"},activeLanguageText:{color:"#ffffff",fontWeight:"500"}});const H=function(e){var t=e.currentLanguage,n=e.onChangeLanguage;(0,h.useTranslation)().t;return(0,F.jsx)(f.default,{style:L.container,children:[{code:"zh",name:"\u4e2d\u6587",icon:"language-outline"},{code:"en",name:"EN",icon:"language-outline"},{code:"cs",name:"CZ",icon:"language-outline"},{code:"es",name:"ES",icon:"language-outline"}].map((function(e){return(0,F.jsx)(N.default,{style:[L.languageButton,t===e.code&&L.activeLanguageButton],onPress:function(){return n(e.code)},children:(0,F.jsx)(u.default,{style:[L.languageText,t===e.code&&L.activeLanguageText],children:e.name})},e.code)}))})};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,z.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V={1:n(5371),2:n(2243),3:n(3386),4:n(8053),5:n(8636),6:n(9271),7:n(6254),8:n(9289),9:n(2384),10:n(3626),11:n(9187),12:n(3576),13:n(4705),14:n(6222),15:n(5719),16:n(1788),17:n(4053),18:n(2674),19:n(3179),20:n(3227),21:n(1682),22:n(6217),23:n(2016),24:n(47),25:n(6246),26:n(1661),27:n(8420),28:n(8611),29:n(8778),30:n(7440),31:n(3193),32:n(9186),33:n(2843),34:n(852),35:n(1981),36:n(4566),37:n(3311),38:n(1656),39:n(4369),40:n(7297),41:n(9032),42:n(3523),43:n(8314),44:n(2981),45:n(3564),46:n(4199),47:n(1182),48:n(569),49:n(3664),50:n(5478),51:n(4495),52:n(4),53:n(3037)},$={2:n(9073),3:n(9128),4:n(4295),5:n(2958),6:n(8709),7:n(5820),8:n(2059),9:n(6706),20:n(4165),21:n(1276),22:n(9383),23:n(158),24:n(7873),25:n(6744),26:n(2499),27:n(7290),28:n(3885),29:n(7204),30:n(5978),31:n(5811),32:n(7480),33:n(5873),34:n(1310),35:n(7095),36:n(6412),37:n(8037),38:n(8882),39:n(427),40:n(6759),41:n(974),42:n(7701),43:n(3695),44:n(5475),45:n(5642),46:n(5537),47:n(7144),48:n(559),49:n(6758),50:n(9404),51:n(6917),52:n(8142),53:n(8135),54:n(8520),55:n(1233),56:n(2250),57:n(3011),58:n(7716),59:n(8845),60:n(4401),61:n(4184),62:n(1043),63:n(3290),64:n(7061),65:n(1148),66:n(3799),67:n(8929),68:n(7177),69:n(2704),70:n(3206),71:n(9535),72:n(4884),73:n(4829),74:n(2322),75:n(6539),76:n(8208),77:n(3033),78:n(4126),79:n(2439),80:n(5715),81:n(3802),82:n(3614),83:n(3752),84:n(5895),85:n(6398),86:n(4229),87:n(8316),88:n(3355),89:n(9202),90:n(4520),91:n(2385),92:n(2218),93:n(9795),94:n(9628),95:n(8725),96:n(1374),97:n(9687),98:n(5456),99:n(281)},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh";try{if(!e)throw new Error("\u9898\u76ee\u5bf9\u8c61\u4e3a\u7a7a");if(e.translations&&e.translations[t]){var n=e.translations[t];if(!n.question||!n.answers||!Array.isArray(n.answers))throw new Error(`\u8bed\u8a00 ${t} \u7684\u7ffb\u8bd1\u6570\u636e\u4e0d\u5b8c\u6574`);return W(W({},e),{},{question:n.question,answers:n.answers.map((function(e){return{text:e.text,correct:e.correct}}))})}if("zh"!==t&&e.translations&&e.translations.zh){console.warn(`\u672a\u627e\u5230\u8bed\u8a00 ${t} \u7684\u7ffb\u8bd1\uff0c\u4f7f\u7528\u4e2d\u6587\u7248\u672c`);var r=e.translations.zh;return W(W({},e),{},{question:r.question,answers:r.answers.map((function(e){return{text:e.text,correct:e.correct}}))})}throw new Error(`\u9898\u76ee ${e.id||"\u672a\u77e5"} \u6ca1\u6709\u53ef\u7528\u7684\u7ffb\u8bd1`)}catch(o){return console.error("\u83b7\u53d6\u9898\u76ee\u7ffb\u8bd1\u65f6\u51fa\u9519:",o,e),W(W({},e),{},{question:`[\u7ffb\u8bd1\u9519\u8bef] ${o.message}`,answers:e.answers||[],hasError:!0})}},_=function(){var e=(0,r.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh";try{var r;try{r=0===e?yield n.e(757).then(n.t.bind(n,6757,19)):1===e?yield n.e(778).then(n.t.bind(n,6778,19)):2===e?yield n.e(643).then(n.t.bind(n,9643,19)):yield n.e(232).then(n.t.bind(n,8232,19)),console.log(`\u52a0\u8f7d\u9898\u5e93 ${e}`)}catch(o){console.warn(`\u52a0\u8f7d\u9898\u96c6 ${e} \u5931\u8d25\uff0c\u4f7f\u7528\u9ed8\u8ba4\u9898\u96c62: ${o.message}`)}if(!r)throw new Error(`\u9898\u5e93 ${e} \u6570\u636e\u4e3a\u7a7a`);return(Array.isArray(r.default)?r.default:r).map((function(n){var r=Q(n,t);if(r.answers&&(r.options=r.answers.map((function(e,t){return{id:String.fromCharCode(65+t),text:e.text,isCorrect:e.correct}}))),r.picture){var a=r.picture.match(/signal(\d+)/i);if(a&&a[1]){var i=parseInt(a[1],10);V[i]&&(r.signalImage=V[i])}else if(r.picture.includes("images/image"))try{var s=r.picture.match(/images\/image(\d+)\.png/i);if(s&&s[1]){var l=s[1];$[l]?(r.signalImage=$[l],console.log(`\u52a0\u8f7d\u56fe\u7247: image${l}.png`)):console.warn(`\u672a\u9884\u52a0\u8f7d\u56fe\u7247: image${l}.png`)}}catch(o){console.warn(`\u65e0\u6cd5\u52a0\u8f7d\u56fe\u7247: ${r.picture}`,o)}}return W(W({},r),{},{id:r.id||`temp_${e}_${Math.random().toString(36).substr(2,9)}`,category:r.category||"general",answers:r.answers||[],options:r.options||[]})}))}catch(o){throw console.error(`Failed to load question set ${e}:`,o),o}}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,r.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh";try{var t=[],r=[];for(var o of[0,1,2,3])try{console.log(`\u5c1d\u8bd5\u52a0\u8f7d\u9898\u96c6 ${o}...`);var a=yield _(o,e);a&&Array.isArray(a)?(console.log(`\u6210\u529f\u52a0\u8f7d\u9898\u96c6 ${o}, \u5171 ${a.length} \u9898`),t.push.apply(t,(0,E.default)(a))):(console.warn(`\u9898\u96c6 ${o} \u52a0\u8f7d\u6210\u529f\u4f46\u683c\u5f0f\u65e0\u6548`),r.push(`\u9898\u76ee\u96c6 ${o} \u683c\u5f0f\u65e0\u6548`))}catch(s){console.error(`\u9898\u76ee\u96c6 ${o} \u52a0\u8f7d\u5931\u8d25:`,s.message),r.push(`\u9898\u76ee\u96c6 ${o} \u52a0\u8f7d\u5931\u8d25: ${s.message}`)}if(t.length>0)return console.log(`\u603b\u5171\u52a0\u8f7d\u4e86 ${t.length} \u9053\u9898\u76ee`),r.length>0&&console.warn("\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef:",r.join("; ")),t;console.error("\u6ca1\u6709\u6210\u529f\u52a0\u8f7d\u4efb\u4f55\u9898\u96c6\uff0c\u4f7f\u7528\u5907\u7528\u9898\u96c6");try{var i=yield n.e(232).then(n.t.bind(n,8232,19));return Array.isArray(i.default)?i.default:i}catch(l){throw new Error(`\u65e0\u6cd5\u52a0\u8f7d\u4efb\u4f55\u9898\u5e93: ${r.join("; ")}`)}}catch(c){throw console.error("\u52a0\u8f7d\u6240\u6709\u9898\u76ee\u96c6\u65f6\u51fa\u9519:",c),c}}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,r.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh",n=yield J(t);return e&&"all"!==e?n.filter((function(t){return t.category===e})):n}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=(0,r.default)((function*(){try{var e=yield J();if(!Array.isArray(e)||0===e.length)return console.warn("\u83b7\u53d6\u5206\u7c7b\u65f6\u53d1\u73b0\u9898\u76ee\u6570\u636e\u4e3a\u7a7a\u6216\u65e0\u6548"),["general"];var t=Array.from(new Set(e.filter((function(e){return e&&e.category})).map((function(e){return e.category}))));return 0===t.length?(console.warn("\u672a\u627e\u5230\u4efb\u4f55\u5206\u7c7b\uff0c\u4f7f\u7528\u9ed8\u8ba4\u5206\u7c7b"),["general"]):t}catch(n){return console.error("\u83b7\u53d6\u5206\u7c7b\u5931\u8d25:",n),["general"]}}));return function(){return e.apply(this,arguments)}}();const X={loadQuestionSet:_,loadAllQuestionSets:J,getTrafficSignalImage:function(e){return V[e]||null},getQuestionsByCategory:U,getAllCategories:G,getChineseCategoryName:function(e){return{traffic_signs:"\u4ea4\u901a\u6807\u5fd7",rules:"\u4ea4\u901a\u89c4\u5219",safety:"\u5b89\u5168\u5e38\u8bc6",vehicle:"\u8f66\u8f86\u77e5\u8bc6",emergency:"\u5e94\u6025\u5904\u7406",all:"\u6240\u6709\u9898\u76ee"}[e]||e},getQuestionTranslation:Q};var Y=n(45),Z=["resizeMode","tintColor"];var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.color,e.offset),n=void 0===t?{width:0,height:2}:t,r=e.opacity,o=void 0===r?.1:r,a=e.radius,i=void 0===a?3:a,s=e.elevation,l=void 0===s?3:s;return{boxShadow:`${n.width}px ${n.height}px ${i}px rgba(0, 0, 0, ${o})`,elevation:l}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resizeMode,n=e.tintColor,r={style:(0,Y.default)(e,Z)};return t&&(r.resizeMode=t),n&&(r.tintColor=n),r};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,z.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=B.default.get("window"),oe=re.width,ae=re.height,ie=function(e){return oe*e/100},se=function(e){return ae*e/100},le=function(e){var t=Math.min(oe,ae)/375;return Math.round(e*t)},ce=d.default.create({container:{flex:1,backgroundColor:"#f8f9fa"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},loadingText:{marginTop:se(2),fontSize:le(16),color:"#666"},header:{padding:ie(5),backgroundColor:"#fff",borderBottomWidth:1,borderBottomColor:"#f0f0f0"},title:{fontSize:le(24),fontWeight:"bold",color:"#333"},subtitle:{fontSize:le(14),color:"#666",marginTop:se(.5)},searchContainer:{flexDirection:"row",alignItems:"center",backgroundColor:"#fff",margin:ie(3),marginTop:se(1),borderRadius:10,paddingHorizontal:ie(3),paddingVertical:se(.5),shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2,elevation:2},searchIcon:{marginRight:ie(2)},searchInput:{flex:1,height:se(5),fontSize:le(16),color:"#333"},clearButton:{padding:ie(1)},sectionTitle:{fontSize:le(16),fontWeight:"bold",color:"#333",marginLeft:ie(4),marginBottom:se(1)},categoriesContainer:{backgroundColor:"#fff",paddingTop:se(1),paddingBottom:se(2),shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.05,shadowRadius:3,elevation:2},categoriesList:{paddingHorizontal:ie(3)},categoryButton:{paddingHorizontal:ie(4),paddingVertical:se(1),marginHorizontal:ie(1),borderRadius:20,backgroundColor:"#f0f0f0"},categoryButtonActive:{backgroundColor:"#4c669f"},categoryButtonText:{fontSize:le(14),color:"#666"},categoryButtonTextActive:{color:"#fff",fontWeight:"bold"},resultsContainer:{paddingHorizontal:ie(4),paddingVertical:se(1.5),backgroundColor:"#f8f9fa"},resultCount:{fontSize:le(14),color:"#666"},questionsList:{padding:ie(3)},questionCard:{backgroundColor:"#fff",borderRadius:10,marginBottom:se(2),padding:ie(4),shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2,elevation:2},questionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:se(1)},categoryBadge:{backgroundColor:"#eef2ff",paddingHorizontal:ie(2),paddingVertical:se(.3),borderRadius:12},categoryLabel:{color:"#4c669f",fontWeight:"500",fontSize:le(12)},questionId:{color:"#999",fontSize:le(12)},questionText:{fontSize:le(16),color:"#333",marginVertical:se(1.5),lineHeight:le(22)},imageContainer:{alignItems:"center",marginBottom:se(1.5),backgroundColor:"#f9f9f9",borderRadius:8,padding:ie(2)},questionImage:{width:ie(40),height:ie(40)},cardFooter:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:se(1),paddingTop:se(1),borderTopWidth:1,borderTopColor:"#f0f0f0"},iconButton:{padding:ie(1)},footerRight:{flexDirection:"row"},viewButton:{flexDirection:"row",alignItems:"center",backgroundColor:"#f0f5ff",paddingHorizontal:ie(3),paddingVertical:se(.5),borderRadius:15},viewButtonText:{color:"#4c669f",fontWeight:"500",fontSize:le(12),marginRight:ie(1)},emptyContainer:{flex:1,padding:ie(5),alignItems:"center",justifyContent:"center",marginTop:se(10)},emptyText:{fontSize:le(16),color:"#999",textAlign:"center",marginTop:se(2),marginBottom:se(3)},resetButton:{backgroundColor:"#4c669f",paddingHorizontal:ie(5),paddingVertical:se(1),borderRadius:20},resetButtonText:{color:"#fff",fontWeight:"500"},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:ie(5)},errorTitle:{fontSize:le(24),fontWeight:"bold",color:"#333",marginBottom:se(2)},errorMessage:{fontSize:le(16),color:"#666",textAlign:"center",marginBottom:se(3)},retryButton:{backgroundColor:"#4c669f",paddingHorizontal:ie(5),paddingVertical:se(1),borderRadius:20},retryButtonText:{color:"#fff",fontWeight:"500"},idContainer:{flexDirection:"row",alignItems:"center"}});const de=function(){var e=(0,h.useTranslation)(),t=e.t,n=e.i18n,a=(0,O.useNavigation)(),i=(0,s.useState)(!0),d=(0,o.default)(i,2),g=d[0],p=d[1],m=(0,s.useState)([]),x=(0,o.default)(m,2),y=x[0],b=x[1],v=(0,s.useState)([]),j=(0,o.default)(v,2),w=j[0],C=j[1],S=(0,s.useState)("all"),k=(0,o.default)(S,2),I=k[0],z=k[1],B=(0,s.useState)(""),L=(0,o.default)(B,2),M=L[0],W=L[1],V=(0,s.useState)(n.language||"zh"),$=(0,o.default)(V,2),Q=$[0],_=$[1],J=(0,s.useState)(""),U=(0,o.default)(J,2),G=U[0],Y=U[1],Z=function(){var e=(0,r.default)((function*(){try{p(!0);var e=yield X.loadAllQuestionSets(Q);Array.isArray(e)||(console.error("\u9898\u76ee\u6570\u636e\u65e0\u6548\uff0c\u8fd4\u56de\u7a7a\u6570\u7ec4"),e=[]),e=e.filter((function(e){return e&&e.id})).map((function(e){return ne(ne({},e),{},{id:e.id.toString()})})),console.log(`\u6210\u529f\u52a0\u8f7d ${e.length} \u9053\u9898\u76ee`),b(e);try{var t=yield X.getAllCategories(),n=[{id:"all",title:"\u6240\u6709\u9898\u76ee"}].concat((0,E.default)(t.map((function(e){return{id:e,title:X.getChineseCategoryName(e)}}))));C(n)}catch(r){console.error("\u52a0\u8f7d\u7c7b\u522b\u5931\u8d25:",r),C([{id:"all",title:"\u6240\u6709\u9898\u76ee"}])}p(!1)}catch(G){console.error("\u52a0\u8f7d\u9898\u76ee\u65f6\u51fa\u9519:",G),Y("\u52a0\u8f7d\u9898\u5e93\u5931\u8d25\uff0c\u8bf7\u5c1d\u8bd5\u91cd\u65b0\u542f\u52a8\u5e94\u7528"),p(!1)}}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,r.default)((function*(e){_(e),n.changeLanguage(e),Z()}));return function(t){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){Z()}),[t]);var te=function(e){if(!e||!e.id)return console.error("Cannot navigate: Question or question ID is missing",e),void A.default.alert("\u9519\u8bef","\u65e0\u6cd5\u67e5\u770b\u9898\u76ee\u8be6\u60c5\uff0c\u9898\u76eeID\u4e0d\u5b58\u5728");a.navigate("QuestionDetail",{questionId:e.id})};if(g)return(0,F.jsxs)(f.default,{style:ce.loadingContainer,children:[(0,F.jsx)(l.default,{size:"large",color:"#4c669f"}),(0,F.jsx)(u.default,{style:ce.loadingText,children:"\u52a0\u8f7d\u9898\u5e93\u4e2d..."})]});if(G)return(0,F.jsxs)(f.default,{style:ce.errorContainer,children:[(0,F.jsx)(T.default,{name:"alert-circle",size:60,color:"#e74c3c"}),(0,F.jsx)(u.default,{style:ce.errorTitle,children:"\u52a0\u8f7d\u5931\u8d25"}),(0,F.jsx)(u.default,{style:ce.errorMessage,children:G}),(0,F.jsx)(N.default,{style:ce.retryButton,onPress:function(){Y(""),p(!0),Z()},children:(0,F.jsx)(u.default,{style:ce.retryButtonText,children:"\u91cd\u8bd5"})})]});var re=function(){var e="all"===I?y:y.filter((function(e){return e.category===I}));if(M){var t=M.toLowerCase();e=e.filter((function(e){return e.question.toLowerCase().includes(t)||e.id&&e.id.toString().includes(t)}))}return e}();return(0,F.jsxs)(P.default,{style:ce.container,children:[(0,F.jsx)(c.default,{barStyle:"dark-content",backgroundColor:"#f8f9fa"}),(0,F.jsxs)(f.default,{style:ce.header,children:[(0,F.jsx)(u.default,{style:ce.title,children:"\u6d4f\u89c8\u9898\u5e93"}),(0,F.jsxs)(u.default,{style:ce.subtitle,children:["\u5171 ",y.length," \u9053\u9898\u76ee"]})]}),(0,F.jsx)(H,{currentLanguage:Q,onChangeLanguage:K}),(0,F.jsxs)(f.default,{style:ce.searchContainer,children:[(0,F.jsx)(T.default,{name:"search",size:20,color:"#999",style:ce.searchIcon}),(0,F.jsx)(R.default,{style:ce.searchInput,placeholder:"\u641c\u7d22\u9898\u76ee\u5173\u952e\u8bcd...",value:M,onChangeText:W,placeholderTextColor:"#999"}),""!==M&&(0,F.jsx)(N.default,{onPress:function(){return W("")},style:ce.clearButton,children:(0,F.jsx)(T.default,{name:"close-circle",size:20,color:"#999"})})]}),(0,F.jsxs)(f.default,{style:ce.categoriesContainer,children:[(0,F.jsx)(u.default,{style:ce.sectionTitle,children:"\u5206\u7c7b\u7b5b\u9009"}),(0,F.jsx)(D.default,{horizontal:!0,data:w,renderItem:function(e){var t=e.item;return(0,F.jsx)(N.default,{style:[ce.categoryButton,I===t.id&&ce.categoryButtonActive],onPress:function(){return z(t.id)},children:(0,F.jsx)(u.default,{style:[ce.categoryButtonText,I===t.id&&ce.categoryButtonTextActive],children:t.title})})},keyExtractor:function(e){return e.id},showsHorizontalScrollIndicator:!1,contentContainerStyle:ce.categoriesList})]}),(0,F.jsx)(f.default,{style:ce.resultsContainer,children:(0,F.jsxs)(u.default,{style:ce.resultCount,children:[re.length," \u9053","all"!==I?X.getChineseCategoryName(I):"","\u9898\u76ee"]})}),(0,F.jsx)(D.default,{data:re,renderItem:function(e){var t=e.item;return(0,F.jsxs)(N.default,{style:ce.questionCard,onPress:function(){return te(t)},activeOpacity:.7,children:[(0,F.jsxs)(f.default,{style:ce.questionHeader,children:[(0,F.jsxs)(f.default,{style:ce.categoryBadge,children:[(0,F.jsx)(T.default,{name:"bookmark-outline",size:14,color:"#4c669f",style:{marginRight:4}}),(0,F.jsx)(u.default,{style:ce.categoryLabel,children:X.getChineseCategoryName(t.category)})]}),(0,F.jsxs)(f.default,{style:ce.idContainer,children:[(0,F.jsx)(T.default,{name:"id-card-outline",size:14,color:"#666",style:{marginRight:4}}),(0,F.jsxs)(u.default,{style:ce.questionId,children:["#",t.id]})]})]}),(0,F.jsx)(u.default,{style:ce.questionText,children:t.question}),t.signalImage&&(0,F.jsx)(f.default,{style:ce.imageContainer,children:(0,F.jsx)(q.default,ne({source:t.signalImage},ee(ne(ne({},ce.questionImage),{},{resizeMode:"contain"}))))}),(0,F.jsxs)(f.default,{style:ce.cardFooter,children:[(0,F.jsx)(N.default,{style:ce.iconButton,children:(0,F.jsx)(T.default,{name:"heart-outline",size:22,color:"#666"})}),(0,F.jsx)(f.default,{style:ce.footerRight,children:(0,F.jsxs)(N.default,{style:ce.viewButton,onPress:function(){return te(t)},children:[(0,F.jsx)(u.default,{style:ce.viewButtonText,children:"\u67e5\u770b\u8be6\u60c5"}),(0,F.jsx)(T.default,{name:"chevron-forward",size:16,color:"#4c669f"})]})})]})]})},keyExtractor:function(e){var t;return(null==(t=e.id)?void 0:t.toString())||Math.random().toString()},contentContainerStyle:ce.questionsList,showsVerticalScrollIndicator:!0,ListEmptyComponent:function(){return(0,F.jsxs)(f.default,{style:ce.emptyContainer,children:[(0,F.jsx)(T.default,{name:"search",size:le(50),color:"#ddd"}),(0,F.jsx)(u.default,{style:ce.emptyText,children:"\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u9898\u76ee"}),(0,F.jsx)(N.default,{style:ce.resetButton,onPress:function(){z("all"),W("")},children:(0,F.jsx)(u.default,{style:ce.resetButtonText,children:"\u91cd\u7f6e\u7b5b\u9009\u6761\u4ef6"})})]})}})]})};var ue=n(893),fe=n(5991),ge=n(2772),pe=n(4770),me=[{id:"1",category:"\u4ea4\u901a\u6cd5\u89c4",question:"\u5728\u9053\u8def\u4e0a\u9a7e\u9a76\u673a\u52a8\u8f66\u600e\u6837\u9009\u62e9\u884c\u8f66\u9053?",options:[{id:"A",text:"\u6839\u636e\u4ea4\u901a\u6807\u5fd7\u3001\u6807\u7ebf\u9009\u62e9\u884c\u8f66\u9053"},{id:"B",text:"\u6839\u636e\u8f66\u901f\u9009\u62e9\u884c\u8f66\u9053"},{id:"C",text:"\u6309\u7167\u8f66\u578b\u9009\u62e9\u884c\u8f66\u9053"},{id:"D",text:"\u6309\u7167\u81ea\u5df1\u4e60\u60ef\u9009\u62e9\u884c\u8f66\u9053"}],correctAnswer:"A",explanation:"\u5728\u9053\u8def\u4e0a\u9a7e\u9a76\u673a\u52a8\u8f66\u5e94\u6839\u636e\u4ea4\u901a\u6807\u5fd7\u3001\u6807\u7ebf\u9009\u62e9\u884c\u8f66\u9053\uff0c\u8fd9\u6837\u624d\u80fd\u4fdd\u8bc1\u884c\u8f66\u5b89\u5168\u548c\u9053\u8def\u901a\u7545\u3002",imageUrl:null,difficulty:"\u7b80\u5355"},{id:"2",category:"\u4ea4\u901a\u6cd5\u89c4",question:"\u9a7e\u9a76\u673a\u52a8\u8f66\u5728\u8fdb\u51fa\u96a7\u9053\u65f6\u5e94\u6ce8\u610f\u4ec0\u4e48?",options:[{id:"A",text:"\u5f00\u542f\u524d\u7167\u706f"},{id:"B",text:"\u5173\u95ed\u524d\u7167\u706f"},{id:"C",text:"\u4fdd\u6301\u5b89\u5168\u8f66\u8ddd"},{id:"D",text:"\u4ee5\u4e0a\u90fd\u662f"}],correctAnswer:"D",explanation:"\u9a7e\u9a76\u673a\u52a8\u8f66\u5728\u8fdb\u51fa\u96a7\u9053\u65f6\u5e94\u5f00\u542f\u524d\u7167\u706f\uff0c\u4fdd\u6301\u5b89\u5168\u8f66\u8ddd\uff0c\u6ce8\u610f\u884c\u8f66\u5b89\u5168\u3002",imageUrl:null,difficulty:"\u4e2d\u7b49"},{id:"3",category:"\u5b89\u5168\u5e38\u8bc6",question:"\u884c\u8f66\u4e2d\u9047\u5230\u5bf9\u5411\u6765\u8f66\u5360\u9053\u884c\u9a76\u65f6\uff0c\u5e94\u600e\u6837\u505a\uff1f",options:[{id:"A",text:"\u7d27\u9760\u9053\u8def\u4e2d\u5fc3\u884c\u9a76"},{id:"B",text:"\u5411\u53f3\u5360\u9053\u884c\u9a76"},{id:"C",text:"\u9760\u53f3\u51cf\u901f\u907f\u8ba9"},{id:"D",text:"\u52a0\u901f\u4ece\u5de6\u4fa7\u901a\u8fc7"}],correctAnswer:"C",explanation:"\u5f53\u9047\u5230\u5bf9\u5411\u6765\u8f66\u5360\u9053\u884c\u9a76\u65f6\uff0c\u5e94\u5f53\u9760\u53f3\u51cf\u901f\u907f\u8ba9\uff0c\u786e\u4fdd\u884c\u8f66\u5b89\u5168\u3002",imageUrl:null,difficulty:"\u4e2d\u7b49"},{id:"4",category:"\u4ea4\u901a\u6cd5\u89c4",question:"\u8fd9\u4e2a\u6807\u5fd7\u662f\u4f55\u542b\u4e49\uff1f",options:[{id:"A",text:"\u7981\u6b62\u901a\u884c"},{id:"B",text:"\u51cf\u901f\u8ba9\u884c"},{id:"C",text:"\u505c\u8f66\u8ba9\u884c"},{id:"D",text:"\u6ce8\u610f\u5371\u9669"}],correctAnswer:"B",explanation:"\u6b64\u6807\u5fd7\u4e3a\u51cf\u901f\u8ba9\u884c\u6807\u5fd7\uff0c\u63d0\u9192\u9a7e\u9a76\u5458\u51cf\u901f\u6162\u884c\uff0c\u6ce8\u610f\u8ba9\u884c\u3002",imageUrl:"https://example.com/signs/yield.jpg",difficulty:"\u7b80\u5355"},{id:"5",category:"\u5b89\u5168\u5e38\u8bc6",question:"\u9a7e\u9a76\u673a\u52a8\u8f66\u9047\u5230\u6c99\u5c18\u66b4\u5929\u6c14\u65f6\u5e94\u600e\u6837\u505a\uff1f",options:[{id:"A",text:"\u52a0\u901f\u9a76\u79bb\u6c99\u5c18\u533a"},{id:"B",text:"\u5f00\u542f\u524d\u7167\u706f\u884c\u9a76"},{id:"C",text:"\u5f00\u542f\u5371\u9669\u62a5\u8b66\u95ea\u5149\u706f\uff0c\u5c31\u8fd1\u9009\u62e9\u5b89\u5168\u5730\u70b9\u505c\u8f66"},{id:"D",text:"\u4ee5\u6b63\u5e38\u901f\u5ea6\u884c\u9a76"}],correctAnswer:"C",explanation:"\u9047\u5230\u6c99\u5c18\u66b4\u5929\u6c14\u65f6\uff0c\u80fd\u89c1\u5ea6\u4f4e\uff0c\u5e94\u5f00\u542f\u5371\u9669\u62a5\u8b66\u95ea\u5149\u706f\uff0c\u5c31\u8fd1\u9009\u62e9\u5b89\u5168\u5730\u70b9\u505c\u8f66\uff0c\u7b49\u5929\u6c14\u597d\u8f6c\u540e\u518d\u884c\u9a76\u3002",imageUrl:null,difficulty:"\u56f0\u96be"}];function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,z.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye="web"===fe.default.OS,be=function(){return ye?null:pe.openDatabase("driving_license.db")},ve=function(){var e=(0,r.default)((function*(){if(ye)try{(yield p.default.getItem("questions"))||(yield p.default.setItem("questions",JSON.stringify(me))),(yield p.default.getItem("favorites"))||(yield p.default.setItem("favorites",JSON.stringify([]))),(yield p.default.getItem("mistakes"))||(yield p.default.setItem("mistakes",JSON.stringify([])))}catch(t){console.error("Failed to initialize web database:",t)}else{var e=be();e.transaction((function(e){e.executeSql("CREATE TABLE IF NOT EXISTS questions (\n          id TEXT PRIMARY KEY,\n          category TEXT,\n          question TEXT,\n          options TEXT,\n          correctAnswer TEXT,\n          explanation TEXT,\n          imageUrl TEXT,\n          difficulty TEXT\n        );"),e.executeSql("CREATE TABLE IF NOT EXISTS favorites (\n          id INTEGER PRIMARY KEY AUTOINCREMENT,\n          questionId TEXT UNIQUE,\n          timestamp INTEGER\n        );"),e.executeSql("CREATE TABLE IF NOT EXISTS mistakes (\n          id INTEGER PRIMARY KEY AUTOINCREMENT,\n          questionId TEXT,\n          userAnswer TEXT,\n          timestamp INTEGER,\n          UNIQUE(questionId)\n        );"),e.executeSql("CREATE TABLE IF NOT EXISTS exam_results (\n          id INTEGER PRIMARY KEY AUTOINCREMENT,\n          date TEXT,\n          score REAL,\n          timeSpent INTEGER,\n          totalQuestions INTEGER,\n          correctCount INTEGER,\n          incorrectCount INTEGER,\n          answeredQuestions INTEGER,\n          unansweredQuestions INTEGER,\n          isPassed INTEGER,\n          details TEXT\n        );"),e.executeSql("CREATE TABLE IF NOT EXISTS study_progress (\n          id INTEGER PRIMARY KEY AUTOINCREMENT,\n          date TEXT,\n          questionsAnswered INTEGER,\n          correctAnswers INTEGER,\n          timeSpent INTEGER\n        );")}),(function(e){console.error("Error creating tables:",e)}),(function(){je(e)}))}}));return function(){return e.apply(this,arguments)}}(),je=function(e){e.transaction((function(t){t.executeSql("SELECT COUNT(*) as count FROM questions;",[],(function(t,n){0===n.rows._array[0].count&&we(e)}))}),(function(e){console.error("Error checking initial data:",e)}))},we=function(e){e.transaction((function(e){me.forEach((function(t){e.executeSql("INSERT INTO questions (id, category, question, options, correctAnswer, explanation, imageUrl, difficulty)\n        VALUES (?, ?, ?, ?, ?, ?, ?, ?);",[t.id,t.category,t.question,JSON.stringify(t.options),t.correctAnswer,t.explanation,t.imageUrl,t.difficulty])}))}),(function(e){console.error("Error inserting mock data:",e)}),(function(){console.log("Mock data inserted successfully")}))},Ce=function(){var e=(0,r.default)((function*(){if(!ye)return new Promise((function(e,t){be().transaction((function(n){n.executeSql("SELECT * FROM questions;",[],(function(t,n){var r=n.rows._array.map((function(e){return xe(xe({},e),{},{options:JSON.parse(e.options)})}));e(r)}),(function(e,n){return t(n),!1}))}))}));try{var e=yield p.default.getItem("questions");return e?JSON.parse(e):[]}catch(t){return console.error("Failed to get questions from web storage:",t),[]}}));return function(){return e.apply(this,arguments)}}(),Se=(function(){var e=(0,r.default)((function*(e){if(!ye)return new Promise((function(t,n){var r=be(),o="all"===e?"SELECT * FROM questions;":"SELECT * FROM questions WHERE category = ?;",a="all"===e?[]:[e];r.transaction((function(e){e.executeSql(o,a,(function(e,n){var r=n.rows._array.map((function(e){return xe(xe({},e),{},{options:JSON.parse(e.options)})}));t(r)}),(function(e,t){return n(t),!1}))}))}));try{var t=yield p.default.getItem("questions"),n=t?JSON.parse(t):[];return"all"===e?n:n.filter((function(t){return t.category===e}))}catch(r){return console.error("Failed to get questions by category from web storage:",r),[]}}))}(),function(){var e=(0,r.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25,t=yield Ce();return(0,E.default)(t).sort((function(){return.5-Math.random()})).slice(0,e)}))}(),function(){var e=(0,r.default)((function*(e){if(!ye)return new Promise((function(t,n){be().transaction((function(r){r.executeSql("SELECT * FROM questions WHERE id = ?;",[e],(function(e,n){var r=n.rows;if(r.length>0){var o=r._array[0];o.options=JSON.parse(o.options),t(o)}else t(null)}),(function(e,t){return n(t),!1}))}))}));try{var t=yield p.default.getItem("questions");return(t?JSON.parse(t):[]).find((function(t){return t.id===e}))||null}catch(n){return console.error("Failed to get question by id from web storage:",n),null}}))}(),function(){var e=(0,r.default)((function*(e){try{var t=(yield X.loadAllQuestionSets()).find((function(t){return t.id.toString()===e.toString()}));if(!t)return null;var n=yield ke(e);return xe(xe({},t),{},{options:t.answers.map((function(e,t){return{id:String.fromCharCode(65+t),text:e.text,isCorrect:e.correct}})),isFavorite:n})}catch(r){return console.error("Error getting complete question:",r),null}}))}(),function(){var e=(0,r.default)((function*(e){if(!e)return console.error("addToFavorites: No questionId provided"),!1;var t=Date.now();if(console.log(`Adding question ID ${e} to favorites`),!ye)return new Promise((function(n,r){be().transaction((function(o){o.executeSql("SELECT * FROM favorites WHERE questionId = ?;",[e],(function(a,i){0===i.rows.length?o.executeSql("INSERT INTO favorites (questionId, timestamp) VALUES (?, ?);",[e.toString(),t],(function(){return n(!0)}),(function(e,t){return r(t),!1})):n(!0)}),(function(e,t){return r(t),!1}))}))}));try{var n=yield p.default.getItem("favorites"),r=n?JSON.parse(n):[];return r.findIndex((function(t){var n,r;return((null==(n=t.questionId)?void 0:n.toString())||(null==(r=t.id)?void 0:r.toString())||"")===e.toString()}))>=0?(console.log(`Question ${e} already in favorites`),!0):(r.push({id:`fav_${e}_${t}`,questionId:e.toString(),dateAdded:t,timestamp:t}),console.log(`Saving favorites with new item: ${r.length} items total`),yield p.default.setItem("favorites",JSON.stringify(r)),!0)}catch(o){return console.error("Failed to add to favorites in web storage:",o),!1}}));return function(t){return e.apply(this,arguments)}}()),Te=function(){var e=(0,r.default)((function*(e){if(!e)return console.error("removeFromFavorites: No questionId provided"),!1;if(console.log(`Removing question ID ${e} from favorites`),!ye)return new Promise((function(t,n){be().transaction((function(r){r.executeSql("DELETE FROM favorites WHERE questionId = ?;",[e],(function(){return t(!0)}),(function(e,t){return n(t),!1}))}))}));try{var t=yield p.default.getItem("favorites"),n=t?JSON.parse(t):[],r=n.filter((function(t){var n,r,o=(null==(n=t.questionId)?void 0:n.toString())||(null==(r=t.id)?void 0:r.toString())||"",a=e.toString(),i=o!==a;return i||console.log(`Found favorite to remove: ${o} = ${a}`),i}));return console.log(`Updated favorites: from ${n.length} to ${r.length}`),yield p.default.setItem("favorites",JSON.stringify(r)),!0}catch(o){return console.error("Failed to remove from favorites in web storage:",o),!1}}));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=(0,r.default)((function*(e){if(!e)return console.error("isQuestionFavorited: No questionId provided"),!1;if(!ye)return new Promise((function(t,n){be().transaction((function(r){r.executeSql("SELECT * FROM favorites WHERE questionId = ?;",[e],(function(e,n){var r=n.rows;t(r.length>0)}),(function(e,t){return n(t),!1}))}))}));try{var t=yield p.default.getItem("favorites"),n=(t?JSON.parse(t):[]).some((function(t){var n,r;return((null==(n=t.questionId)?void 0:n.toString())||(null==(r=t.id)?void 0:r.toString())||"")===e.toString()}));return console.log(`Question ${e} is${n?"":" not"} favorited`),n}catch(r){return console.error("Failed to check favorite status in web storage:",r),!1}}));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,r.default)((function*(){if(console.log("Getting favorite questions"),!ye)return new Promise((function(e,t){be().transaction((function(n){n.executeSql("SELECT q.*, f.timestamp as dateAdded \n          FROM questions q\n          INNER JOIN favorites f ON q.id = f.questionId\n          ORDER BY f.timestamp DESC;",[],(function(t,n){var r=n.rows._array.map((function(e){var t;try{t=new Date(e.dateAdded)}catch(n){t=new Date}return xe(xe({},e),{},{options:e.options?JSON.parse(e.options):[],dateAdded:t})}));e(r)}),(function(e,n){return t(n),!1}))}))}));try{var e=yield p.default.getItem("favorites"),t=e?JSON.parse(e):[];if(console.log(`Found ${t.length} favorites in storage`),0===t.length)return[];var n=yield X.loadAllQuestionSets();console.log(`Loaded ${n.length} questions to match with favorites`);var r=[],o=function*(){var e=a.questionId||a.id;if(!e)return 1;var t=n.find((function(t){return t.id&&t.id.toString()===e.toString()}));if(t){var o;try{o=new Date(a.dateAdded||a.timestamp||Date.now())}catch(i){o=new Date}r.push(xe(xe({},t),{},{id:t.id,question:t.question,category:t.category,dateAdded:o,timestamp:a.timestamp||Date.now()}))}};for(var a of t)yield*o();return console.log(`Returning ${r.length} matched favorite questions`),r}catch(i){return console.error("Failed to get favorite questions from web storage:",i),[]}}));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,r.default)((function*(e,t){var n=(new Date).toISOString(),r=`mistake_${e}_${Date.now()}`;if(!ye)return new Promise((function(o,a){be().transaction((function(i){i.executeSql("SELECT * FROM mistakes WHERE questionId = ?;",[e],(function(s,l){0===l.rows.length?i.executeSql("INSERT INTO mistakes (id, questionId, attempts, lastAttempt, userAnswer) VALUES (?, ?, ?, ?, ?);",[r,e,1,n,t],(function(){return o(!0)}),(function(e,t){return a(t),!1})):i.executeSql("UPDATE mistakes SET attempts = attempts + 1, lastAttempt = ?, userAnswer = ? WHERE questionId = ?;",[n,t,e],(function(){return o(!0)}),(function(e,t){return a(t),!1}))}),(function(e,t){return a(t),!1}))}))}));try{var o=yield p.default.getItem("mistakes"),a=o?JSON.parse(o):[],i=a.findIndex((function(t){return t.questionId===e}));return i>=0?(a[i].attempts+=1,a[i].lastAttempt=n,a[i].userAnswer=t):a.push({id:r,questionId:e,attempts:1,lastAttempt:n,userAnswer:t,timestamp:Date.now()}),yield p.default.setItem("mistakes",JSON.stringify(a)),!0}catch(s){return console.error("Failed to record mistake in web storage:",s),!1}}));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=(0,r.default)((function*(){if(!ye)return new Promise((function(e,t){be().transaction((function(n){n.executeSql("SELECT m.questionId, m.userAnswer, m.timestamp FROM mistakes m \n           ORDER BY m.timestamp DESC;",[],(function(t,n){var r=n.rows;e(r._array)}),(function(e,n){return t(n),!1}))}))}));try{var e=yield p.default.getItem("mistakes");return e?JSON.parse(e):[]}catch(t){return console.error("Failed to get mistake questions from web storage:",t),[]}}));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,r.default)((function*(e){if(!e)return console.error("removeMistake: No questionId provided"),!1;if(console.log(`Attempting to remove mistake with ID: ${e}`),!ye)return new Promise((function(t,n){be().transaction((function(r){r.executeSql("DELETE FROM mistakes WHERE questionId = ?;",[e.toString()],(function(n,r){var o=r.rowsAffected;console.log(`Removed ${o} mistake records for ID: ${e}`),t(o>0)}),(function(t,r){return console.error(`SQL error removing mistake ${e}:`,r),n(r),!1}))}))}));try{var t=yield p.default.getItem("mistakes"),n=t?JSON.parse(t):[];console.log(`Current mistakes count: ${n.length}`);var r=n.filter((function(t){var n,r=(null==(n=t.questionId)?void 0:n.toString())||"",o=e.toString(),a=r!==o;return a||console.log(`Found mistake to remove: ${r} = ${o}`),a}));return console.log(`Updated mistakes count: ${r.length}`),yield p.default.setItem("mistakes",JSON.stringify(r)),!0}catch(o){return console.error("Failed to remove mistake in web storage:",o),!1}}));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,r.default)((function*(){if(console.log("\u6e05\u7a7a\u6240\u6709\u9519\u9898\u8bb0\u5f55"),!ye)return new Promise((function(e,t){var n=be();n.transaction((function(r){r.executeSql("SELECT COUNT(*) as count FROM mistakes;",[],(function(r,o){var a=o.rows._array[0].count;console.log(`Clearing ${a} mistakes from database`),n.transaction((function(n){n.executeSql("DELETE FROM mistakes;",[],(function(t,n){var r=n.rowsAffected;console.log(`Deleted ${r} mistake records`),e(!0)}),(function(e,n){return console.error("Error clearing mistakes:",n),t(n),!1}))}))}))}))}));try{var e=yield p.default.getItem("mistakes"),t=e?JSON.parse(e):[];console.log(`Clearing ${t.length} mistakes from web storage`),yield p.default.setItem("mistakes",JSON.stringify([]));var n=yield p.default.getItem("mistakes"),r=n?JSON.parse(n):null;return console.log("After clear:",r),!0}catch(o){throw console.error("Failed to clear mistakes in web storage:",o),o}}));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=(0,r.default)((function*(){if(!ye)return new Promise((function(e,t){be().transaction((function(e){e.executeSql("DELETE FROM favorites;"),e.executeSql("DELETE FROM mistakes;")}),(function(e){console.error("Error resetting database:",e),t(e)}),(function(){e(!0)}))}));try{return yield p.default.setItem("favorites",JSON.stringify([])),yield p.default.setItem("mistakes",JSON.stringify([])),!0}catch(e){return console.error("Failed to reset web storage:",e),!1}}));return function(){return e.apply(this,arguments)}}(),De=function(){var e=(0,r.default)((function*(e){var t=e.questionsAnswered,n=e.correctCount,r=e.examType,o=e.date,a=void 0===o?(new Date).toISOString():o;if(!ye)return new Promise((function(e,o){var i=be();i.transaction((function(e){e.executeSql("CREATE TABLE IF NOT EXISTS study_progress (\n            id TEXT PRIMARY KEY,\n            date TEXT,\n            questionsAnswered INTEGER,\n            correctCount INTEGER,\n            examType TEXT,\n            accuracy REAL\n          );")}),(function(e){console.error("Error creating study_progress table:",e),o(e)}),(function(){i.transaction((function(i){var s=Date.now().toString(),l=t>0?n/t:0;i.executeSql("INSERT INTO study_progress (id, date, questionsAnswered, correctCount, examType, accuracy)\n            VALUES (?, ?, ?, ?, ?, ?);",[s,a,t,n,r,l],(function(t,n){e(!0)}),(function(e,t){return console.error("Error inserting study progress:",t),o(t),!1}))}))}))}));try{var i=yield p.default.getItem("studyProgress"),s=i?JSON.parse(i):[];return s.push({id:Date.now().toString(),date:a,questionsAnswered:t,correctCount:n,examType:r,accuracy:t>0?n/t:0}),yield p.default.setItem("studyProgress",JSON.stringify(s)),!0}catch(l){return console.error("Failed to record study progress in web storage:",l),!1}}));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=(0,r.default)((function*(){if(!ye)return new Promise((function(e,t){be().transaction((function(n){n.executeSql("SELECT \n            COUNT(*) as totalExams,\n            SUM(totalQuestions) as totalQuestions,\n            SUM(correctCount) as totalCorrect\n          FROM exam_results;",[],(function(t,r){var o=r.rows._array[0],a=o.totalExams||0,i=o.totalQuestions||0,s=o.totalCorrect||0,l=i>0?s/i:0;n.executeSql("SELECT * FROM study_progress ORDER BY date DESC LIMIT 7;",[],(function(t,n){var r=n.rows;e({totalExams:a,totalQuestions:i,totalCorrect:s,averageAccuracy:l,progressHistory:r._array})}),(function(t,n){console.error("Error getting study progress history:",n),e({totalExams:a,totalQuestions:i,totalCorrect:s,averageAccuracy:l,progressHistory:[]})}))}),(function(e,n){return console.error("Error getting study stats:",n),t(n),!1}))}))}));try{var e=yield p.default.getItem("studyProgress"),t=e?JSON.parse(e):[],n=yield p.default.getItem("examResults"),r=n?JSON.parse(n):[],o=r.length,a=r.reduce((function(e,t){return e+(t.totalQuestions||0)}),0),i=r.reduce((function(e,t){return e+(t.correctCount||0)}),0);return{totalExams:o,totalQuestions:a,totalCorrect:i,averageAccuracy:a>0?i/a:0,progressHistory:t.slice(-7)}}catch(s){return console.error("Failed to get study progress from web storage:",s),{totalExams:0,totalQuestions:0,totalCorrect:0,averageAccuracy:0,progressHistory:[]}}}));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,r.default)((function*(){if(!ye)return new Promise((function(e,t){be().transaction((function(n){n.executeSql("DELETE FROM study_progress;",[],(function(t,n){e(!0)}),(function(e,n){return console.error("Error clearing study progress:",n),t(n),!1}))}))}));try{return yield p.default.setItem("studyProgress",JSON.stringify([])),!0}catch(e){return console.error("Failed to clear study progress in web storage:",e),!1}}));return function(){return e.apply(this,arguments)}}(),Re=function(e,t,n){if(ye)return new Promise(function(){var o=(0,r.default)((function*(r,o){try{var a=(new Date).toISOString().split("T")[0],i=[];try{var s=yield p.default.getItem("studyProgress");s&&(i=JSON.parse(s))}catch(c){console.warn("Failed to retrieve existing study progress:",c)}var l=i.findIndex((function(e){return e.date===a}));l>=0?(i[l].questionsAnswered+=e,i[l].correctAnswers+=t,i[l].timeSpent+=n):i.push({date:a,questionsAnswered:e,correctAnswers:t,timeSpent:n,id:Date.now()}),yield p.default.setItem("studyProgress",JSON.stringify(i)),r({rowsAffected:1})}catch(c){console.error("Failed to update study progress in web storage:",c),o(c)}}));return function(e,t){return o.apply(this,arguments)}}());var o=be();return new Promise((function(r,a){var i=(new Date).toISOString().split("T")[0];o.transaction((function(o){o.executeSql("UPDATE study_progress SET \n            questionsAnswered = questionsAnswered + ?,\n            correctAnswers = correctAnswers + ?,\n            timeSpent = timeSpent + ?\n            WHERE date = ?",[e,t,n,i],(function(s,l){0===l.rowsAffected?o.executeSql("INSERT INTO study_progress (\n                  date, questionsAnswered, correctAnswers, timeSpent\n                ) VALUES (?, ?, ?, ?)",[i,e,t,n],(function(e,t){r(t)}),(function(e,t){a(t)})):r(l)}),(function(e,t){a(t)}))}))}))},Ne=function(){var e=(0,r.default)((function*(){if(console.log("\u6e05\u7a7a\u6240\u6709\u8003\u8bd5\u5386\u53f2\u8bb0\u5f55"),!ye)return new Promise((function(e,t){var n=be();n.transaction((function(r){r.executeSql("SELECT COUNT(*) as count FROM exam_results;",[],(function(r,o){var a=o.rows._array[0].count;console.log(`Clearing ${a} exam records from database`),n.transaction((function(n){n.executeSql("DELETE FROM exam_results;",[],(function(t,n){var r=n.rowsAffected;console.log(`Deleted ${r} exam records`),e(!0)}),(function(e,n){return console.error("Error clearing exam history:",n),t(n),!1}))}))}))}))}));try{var e=yield p.default.getItem("examResults"),t=e?JSON.parse(e):[];return console.log(`Clearing ${t.length} exam results from web storage`),yield p.default.setItem("examResults",JSON.stringify([])),!0}catch(n){return console.error("Failed to clear exam history in web storage:",n),!1}}));return function(){return e.apply(this,arguments)}}();function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,z.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=B.default.get("window"),Me=He.width,We=He.height,Ve=Me<375,$e=Me>=375&&Me<768,Qe=function(e){return Me*e/100},_e=function(e){return We*e/100},Je=function(e){var t=Math.min(Me,We)/375,n=Ve?.85*t:$e?.9*t:t;return Math.round(e*n)},Ue=20,Ge=2700,Xe=70,Ye=d.default.create({container:{flex:1,backgroundColor:"#f8f9fa"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},loadingText:{marginTop:_e(2),fontSize:Je(16),color:"#666"},prepContainer:{flex:1,padding:Qe(5),justifyContent:"center"},examInfoCard:Le({backgroundColor:"#fff",borderRadius:15,padding:Qe(5)},fe.default.select({ios:{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},android:{elevation:3},web:{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"}})),examTitle:{fontSize:Je(20),fontWeight:"bold",color:"#333",textAlign:"center",marginBottom:_e(2)},examDescription:{fontSize:Je(14),color:"#666",marginBottom:_e(3),lineHeight:Je(20),textAlign:"center"},categoriesContainer:{marginVertical:_e(2)},sectionTitle:{fontSize:Je(16),fontWeight:"bold",color:"#333",marginBottom:_e(1.5)},categoriesList:{paddingVertical:_e(1)},categoryButton:{paddingHorizontal:Qe(4),paddingVertical:_e(1),marginRight:Qe(2),borderRadius:20,backgroundColor:"#f0f0f0"},categoryButtonActive:{backgroundColor:"#4c669f"},categoryButtonText:{fontSize:Je(14),color:"#666"},categoryButtonTextActive:{color:"#fff",fontWeight:"500"},examRules:{marginTop:_e(2)},ruleTitle:{fontSize:Je(16),fontWeight:"bold",color:"#333",marginBottom:_e(1.5)},ruleItem:{flexDirection:"row",alignItems:"center",marginBottom:_e(1)},ruleText:{fontSize:Je(14),color:"#555",marginLeft:Qe(2)},startButton:Le({backgroundColor:"#4CAF50",flexDirection:"row",alignItems:"center",justifyContent:"center",padding:_e(1.8),borderRadius:10,marginTop:_e(4)},fe.default.select({ios:{boxShadow:"0px 2px 4px rgba(0,0,0,0.2)"},android:{elevation:4},web:{boxShadow:"0px 2px 4px rgba(0,0,0,0.2)"}})),startButtonText:{color:"#fff",fontSize:Je(16),fontWeight:"bold",marginRight:Qe(2)},questionContainer:{flex:1,backgroundColor:"#f8f9fa"},questionHeader:{backgroundColor:"#4c669f",padding:Qe(4),paddingTop:"android"===fe.default.OS?c.default.currentHeight+_e(1):_e(1),paddingBottom:_e(2),flexDirection:"row",justifyContent:"space-between",alignItems:"center"},questionNumber:{color:"#fff",fontSize:Je(15),fontWeight:"bold"},timerContainer:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255,255,255,0.2)",paddingHorizontal:Qe(3),paddingVertical:_e(.5),borderRadius:20},timerText:{color:"#fff",fontWeight:"bold",marginLeft:Qe(1),fontSize:Je(14)},questionText:{fontSize:Je(16),color:"#333",fontWeight:"500",lineHeight:Je(24),padding:Qe(4)},imageContainer:{alignItems:"center",marginBottom:_e(2),backgroundColor:"#f9f9f9",margin:Qe(4),padding:Qe(2),borderRadius:8},questionImage:{width:Qe(65),height:Qe(65)},optionsContainer:{padding:Qe(4),paddingTop:0},optionButton:Le({flexDirection:"row",alignItems:"center",backgroundColor:"#fff",padding:Qe(3.5),borderRadius:10,marginBottom:_e(1.5)},fe.default.select({ios:{boxShadow:"0px 1px 2px rgba(0,0,0,0.1)"},android:{elevation:2},web:{boxShadow:"0px 1px 2px rgba(0,0,0,0.1)"}})),selectedOption:{backgroundColor:"#e3f2fd",borderColor:"#4c669f",borderWidth:1},correctOption:{backgroundColor:"#d3f2d3",borderColor:"#4caf50",borderWidth:1},incorrectOption:{backgroundColor:"#f2d3d3",borderColor:"#f44336",borderWidth:1},optionLetter:{fontSize:Je(14),fontWeight:"bold",color:"#666",marginRight:Qe(3)},optionText:{fontSize:Je(15),color:"#333",flex:1,lineHeight:Je(22)},resultIcon:{marginLeft:Qe(2)},navigationContainer:{flexDirection:"row",justifyContent:"space-between",padding:Qe(4),paddingTop:_e(2)},navButton:{flexDirection:"row",alignItems:"center",paddingHorizontal:Qe(4),paddingVertical:_e(1),borderRadius:20,backgroundColor:"#f0f0f0"},disabledButton:{backgroundColor:"#f5f5f5"},navButtonText:{color:"#4c669f",fontSize:Je(14),fontWeight:"500"},disabledButtonText:{color:"#ccc"},submitButton:{backgroundColor:"#4CAF50",paddingHorizontal:Qe(5)},submitButtonText:{color:"#fff",fontSize:Je(14),fontWeight:"500",marginRight:Qe(2)},progressContainer:{paddingHorizontal:Qe(5),paddingBottom:_e(2)},progressList:{paddingVertical:_e(1)},progressItem:{width:Qe(10),height:Qe(10),borderRadius:Qe(5),backgroundColor:"#f0f0f0",justifyContent:"center",alignItems:"center",marginRight:Qe(2),borderWidth:1,borderColor:"#ddd"},activeProgressItem:{backgroundColor:"#4c669f",borderColor:"#3b5998"},answeredProgressItem:{backgroundColor:"#e3f2fd",borderColor:"#4c669f"},progressItemText:{fontSize:Je(12),fontWeight:"500",color:"#666"},activeProgressItemText:{color:"#fff"},answeredProgressItemText:{color:"#4c669f"},resultsContainer:{flex:1,padding:Qe(5)},resultsScrollView:{flex:1,backgroundColor:"#f8f9fa"},resultsContent:{padding:Qe(5),paddingBottom:_e(5)},resultHeader:Le({backgroundColor:"#fff",borderRadius:15,overflow:"hidden",marginBottom:_e(3)},fe.default.select({ios:{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},android:{elevation:3},web:{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"}})),resultBanner:{padding:_e(3),alignItems:"center"},resultText:{color:"#fff",fontSize:Je(24),fontWeight:"bold",marginBottom:_e(2),textAlign:"center"},scoreCircle:{width:Qe(25),height:Qe(25),borderRadius:Qe(12.5),backgroundColor:"rgba(255,255,255,0.3)",justifyContent:"center",alignItems:"center"},scoreValue:{color:"#fff",fontSize:Je(24),fontWeight:"bold"},resultStats:{padding:Qe(5)},statsRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:_e(2)},statItem:{flex:1,alignItems:"center"},statValue:{fontSize:Je(18),fontWeight:"bold",color:"#333"},statLabel:{fontSize:Je(12),color:"#666",marginTop:_e(.5)},resultMessage:Le({padding:Qe(5),backgroundColor:"#fff",borderRadius:15,marginBottom:_e(3)},fe.default.select({ios:{boxShadow:"0px 1px 2px rgba(0,0,0,0.1)"},android:{elevation:2},web:{boxShadow:"0px 1px 2px rgba(0,0,0,0.1)"}})),messageText:{fontSize:Je(16),color:"#666",textAlign:"center",lineHeight:Je(24)},resultActions:{flexDirection:"row",justifyContent:"space-around",flexWrap:"wrap"},actionButton:Le(Le({flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",padding:_e(1.5),borderRadius:10,margin:Qe(1)},fe.default.select({ios:{boxShadow:"0px 1px 2px rgba(0,0,0,0.1)"},android:{elevation:2},web:{boxShadow:"0px 1px 2px rgba(0,0,0,0.1)"}})),{},{minWidth:Qe(28)}),actionButtonWide:{minWidth:Qe(42),marginVertical:_e(1)},actionButtonText:{color:"#4c669f",fontSize:Je(14),fontWeight:"500",marginLeft:Qe(2)},questionScrollView:{flex:1,width:"100%",paddingHorizontal:Qe(4),marginBottom:10},bottomPadding:{height:_e(2)},errorContainer:{flex:1,justifyContent:"center",alignItems:"center"},errorText:{marginBottom:_e(2),fontSize:Je(16),color:"#666"},mistakesInfoCard:Le({padding:Qe(5),backgroundColor:"#fff",borderRadius:15,marginBottom:_e(3)},fe.default.select({ios:{boxShadow:"0px 1px 2px rgba(0,0,0,0.1)"},android:{elevation:2},web:{boxShadow:"0px 1px 2px rgba(0,0,0,0.1)"}})),mistakesInfoHeader:{flexDirection:"row",alignItems:"center",marginBottom:_e(1.5)},mistakesInfoTitle:{fontSize:Je(16),fontWeight:"bold",color:"#333",marginLeft:Qe(2)},mistakesInfoText:{fontSize:Je(14),color:"#666"},primaryButton:Le({backgroundColor:"#4CAF50"},fe.default.select({ios:{boxShadow:"0px 2px 4px rgba(0,0,0,0.2)"},android:{elevation:4},web:{boxShadow:"0px 2px 4px rgba(0,0,0,0.2)"}})),examFinishedBanner:Le({padding:_e(2),flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#4c669f",borderRadius:10,marginBottom:_e(2)},fe.default.select({ios:{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},android:{elevation:3},web:{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"}})),examFinishedText:{color:"#fff",fontSize:Je(18),fontWeight:"bold",marginLeft:Qe(2)}});const Ze=function(e){var t=e.navigation,n=(0,h.useTranslation)(),a=(n.t,n.i18n),i=(0,s.useState)(!0),d=(0,o.default)(i,2),g=d[0],m=d[1],x=(0,s.useState)(!1),y=(0,o.default)(x,2),b=y[0],v=y[1],j=(0,s.useState)(!1),w=(0,o.default)(j,2),C=w[0],S=w[1],k=(0,s.useState)([]),I=(0,o.default)(k,2),O=I[0],B=I[1],R=(0,s.useState)(0),L=(0,o.default)(R,2),M=L[0],W=L[1],V=(0,s.useState)({}),$=(0,o.default)(V,2),Q=$[0],_=$[1],J=(0,s.useState)(Ge),U=(0,o.default)(J,2),G=U[0],Y=U[1],Z=(0,s.useState)(null),K=(0,o.default)(Z,2),te=K[0],ne=K[1],re=(0,s.useState)([]),oe=(0,o.default)(re,2),ae=oe[0],ie=oe[1],se=(0,s.useState)("all"),le=(0,o.default)(se,2),ce=le[0],de=le[1],fe=(0,s.useState)(a.language||"zh"),pe=(0,o.default)(fe,2),me=pe[0],he=pe[1],ve=(0,s.useRef)(null);(0,s.useEffect)((function(){var e=function(){var e=(0,r.default)((function*(){try{m(!0);var e=yield X.loadAllQuestionSets(me),t=yield X.getAllCategories(),n=[{id:"all",title:"\u6240\u6709\u9898\u76ee"}].concat((0,E.default)(t.map((function(e){return{id:e,title:X.getChineseCategoryName(e)}}))));ie(n),B(e),m(!1)}catch(r){console.error("Error loading exam questions:",r),m(!1)}}));return function(){return e.apply(this,arguments)}}();return e(),function(){ve.current&&clearInterval(ve.current)}}),[me]);var je=function(){var e=(0,r.default)((function*(e){if(he(e),a.changeLanguage(e),b&&!C)try{m(!0);var t=O.map((function(t){if(t.translations&&t.translations[e]){var n=t.translations[e];return Le(Le({},t),{},{question:n.question,answers:n.answers,options:n.answers.map((function(e,t){return{id:String.fromCharCode(65+t),text:e.text,isCorrect:e.correct}}))})}return t}));B(t)}catch(r){console.error("Error updating question translations:",r),A.default.alert("\u8bed\u8a00\u5207\u6362\u5931\u8d25","\u66f4\u65b0\u9898\u76ee\u7ffb\u8bd1\u65f6\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5\u3002",[{text:"\u786e\u5b9a",style:"cancel"}])}finally{m(!1)}else try{m(!0);var n=yield X.loadAllQuestionSets(e);B(n)}catch(r){console.error("Error loading questions for new language:",r),A.default.alert("\u52a0\u8f7d\u5931\u8d25","\u52a0\u8f7d\u65b0\u8bed\u8a00\u7684\u9898\u76ee\u65f6\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5\u3002",[{text:"\u786e\u5b9a",style:"cancel"}])}finally{m(!1)}}));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=(0,r.default)((function*(){var e=O;"all"!==ce&&(e=O.filter((function(e){return e.category===ce})));var t=(0,E.default)(e).sort((function(){return.5-Math.random()})).slice(0,Ue).map((function(e,t){return Le(Le({},e),{},{examId:t+1,options:e.answers.map((function(e,t){return{id:String.fromCharCode(65+t),text:e.text,isCorrect:e.correct}}))})}));t.length<Ue?A.default.alert("\u9898\u76ee\u4e0d\u8db3",`\u5f53\u524d\u7c7b\u522b\u4e0b\u53ea\u6709 ${t.length} \u9053\u9898\u76ee\uff0c\u65e0\u6cd5\u5f00\u59cb\u8003\u8bd5\u3002`,[{text:"\u786e\u5b9a",style:"cancel"}]):(B(t),W(0),_({}),Y(Ge),v(!0),S(!1),ve.current=setInterval((function(){Y((function(e){return e<=1?(clearInterval(ve.current),Ce(),0):e-1}))}),1e3))}));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,r.default)((function*(){try{if(console.log("Finishing exam..."),!O||0===O.length)return console.error("No questions available"),void A.default.alert("\u9519\u8bef","\u6ca1\u6709\u52a0\u8f7d\u5230\u9898\u76ee\u6570\u636e\uff0c\u65e0\u6cd5\u63d0\u4ea4\u8003\u8bd5");S(!0),v(!1),ve.current&&(clearInterval(ve.current),console.log("Timer stopped"));var e=Object.keys(Q).length,t=0,n=0,o={},a=[];if(O.forEach((function(e,r){if(e&&e.id){var i=Q[e.id],s="A";if(e.options&&Array.isArray(e.options)){var l=e.options.find((function(e){return e.isCorrect}));l?s=l.id:console.warn(`No correct answer found for question ${e.id}`)}else console.warn(`Question ${e.id} has invalid options`);var c=i===s;c?t++:i&&(n++,a.push({id:e.id,userAnswer:i})),o[e.id]={userAnswer:i,correctAnswer:s,isCorrect:c}}else console.warn(`Invalid question at index ${r}:`,e)})),a.length>0){console.log(`Recording ${a.length} mistakes...`);try{var i=a.map((function(e){return Ee(e.id,e.userAnswer).catch((function(t){return console.error(`Failed to record mistake for question ${e.id}:`,t)}))}));yield Promise.all(i),console.log("All mistakes recorded successfully")}catch(u){console.error("Error batch recording mistakes:",u)}}var s=O.length>0?t/O.length*100:0,l=Ge-G,c=s>=Xe,d={date:(new Date).toISOString(),score:s,timeSpent:l,totalQuestions:O.length,correctCount:t,incorrectCount:n,answeredQuestions:e,unansweredQuestions:O.length-e,isPassed:c,questionResults:o};console.log("Exam result calculated"),ne(d);try{yield function(e){return new Promise(ye?function(){var t=(0,r.default)((function*(t,n){try{var r=[];try{var o=yield p.default.getItem("examResults");o&&(r=JSON.parse(o))}catch(i){console.warn("Failed to retrieve existing exam results:",i)}var a=xe(xe({},e),{},{id:Date.now()});r.push(a),yield p.default.setItem("examResults",JSON.stringify(r)),yield Re(e.answeredQuestions,e.correctCount,e.timeSpent),t({insertId:Date.now()})}catch(i){console.error("Failed to save exam result to web storage:",i),n(i)}}));return function(e,n){return t.apply(this,arguments)}}():function(t,n){var r=e.date,o=e.score,a=e.timeSpent,i=e.totalQuestions,s=e.correctCount,l=e.incorrectCount,c=e.answeredQuestions,d=e.unansweredQuestions,u=e.isPassed,f=e.questionResults,g=JSON.stringify(f||{});be().transaction((function(e){e.executeSql("INSERT INTO exam_results (\n            date, score, timeSpent, totalQuestions, correctCount, \n            incorrectCount, answeredQuestions, unansweredQuestions, \n            isPassed, details\n          ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[r,o,a,i,s,l,c,d,u?1:0,g],(function(e,n){Re(c,s,a),t(n)}),(function(e,t){n(t)}))}))})}(d),console.log("Exam result saved to database")}catch(f){console.error("Failed to save exam result:",f)}try{yield Re(e,t,l),console.log("Study progress updated")}catch(f){console.error("Failed to update study progress:",f)}console.log("Exam finished successfully, showing results")}catch(f){console.error("Error in finishExam:",f),A.default.alert("\u9519\u8bef","\u63d0\u4ea4\u8003\u8bd5\u7ed3\u679c\u65f6\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5: "+f.message,[{text:"\u786e\u5b9a",style:"default"}])}}));return function(){return e.apply(this,arguments)}}(),Se=function(){te?t.navigate("Home",{examCompleted:!0,examResults:{score:Math.round(te.score),correctCount:te.correctCount,incorrectCount:te.incorrectCount,date:(new Date).toISOString()}}):t.navigate("Home")},Te=function(){t.navigate("Mistakes")},ke=function(){v(!1),S(!1),_({}),ne(null)},Ie=function(e){var t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},ze=function(e){var t=e.item;return(0,F.jsx)(N.default,{style:[Ye.categoryButton,ce===t.id&&Ye.categoryButtonActive],onPress:function(){return de(t.id)},children:(0,F.jsx)(u.default,{style:[Ye.categoryButtonText,ce===t.id&&Ye.categoryButtonTextActive],children:t.title})})};return g?(0,F.jsxs)(f.default,{style:Ye.loadingContainer,children:[(0,F.jsx)(l.default,{size:"large",color:"#4c669f"}),(0,F.jsx)(u.default,{style:Ye.loadingText,children:"\u52a0\u8f7d\u8003\u8bd5\u4e2d..."})]}):(0,F.jsxs)(P.default,{style:Ye.container,children:[(0,F.jsx)(c.default,{barStyle:"dark-content",backgroundColor:"#f8f9fa"}),!b&&!C&&(0,F.jsxs)(f.default,{style:Ye.prepContainer,children:[(0,F.jsxs)(f.default,{style:Ye.examInfoCard,children:[(0,F.jsx)(u.default,{style:Ye.examTitle,children:"\u9a7e\u7167\u7406\u8bba\u8003\u8bd5"}),(0,F.jsxs)(u.default,{style:Ye.examDescription,children:["\u672c\u6b21\u8003\u8bd5\u5171",Ue,"\u9053\u9898\uff0c\u65f6\u95f4\u9650\u5236",Math.floor(Ge/60),"\u5206\u949f\uff0c \u901a\u8fc7\u5206\u6570\u7ebf\u4e3a",Xe,'%\u3002\u8bf7\u9009\u62e9\u8003\u8bd5\u7c7b\u522b\uff0c\u51c6\u5907\u597d\u540e\u70b9\u51fb"\u5f00\u59cb\u8003\u8bd5"\u6309\u94ae\u3002']}),(0,F.jsxs)(f.default,{style:Ye.categoriesContainer,children:[(0,F.jsx)(u.default,{style:Ye.sectionTitle,children:"\u9009\u62e9\u8003\u8bd5\u7c7b\u522b"}),(0,F.jsx)(D.default,{horizontal:!0,data:ae,renderItem:ze,keyExtractor:function(e){return e.id},showsHorizontalScrollIndicator:!1,contentContainerStyle:Ye.categoriesList})]}),(0,F.jsxs)(f.default,{style:Ye.examRules,children:[(0,F.jsx)(u.default,{style:Ye.ruleTitle,children:"\u8003\u8bd5\u987b\u77e5\uff1a"}),(0,F.jsxs)(f.default,{style:Ye.ruleItem,children:[(0,F.jsx)(T.default,{name:"checkmark",size:Je(16),color:"#4CAF50"}),(0,F.jsx)(u.default,{style:Ye.ruleText,children:"\u9898\u76ee\u4e3a\u968f\u673a\u9009\u62e9\uff0c\u6bcf\u6b21\u8003\u8bd5\u9898\u76ee\u4e0d\u540c"})]}),(0,F.jsxs)(f.default,{style:Ye.ruleItem,children:[(0,F.jsx)(T.default,{name:"checkmark",size:Je(16),color:"#4CAF50"}),(0,F.jsx)(u.default,{style:Ye.ruleText,children:"\u53ef\u4efb\u610f\u5207\u6362\u9898\u76ee\u987a\u5e8f\u4f5c\u7b54"})]}),(0,F.jsxs)(f.default,{style:Ye.ruleItem,children:[(0,F.jsx)(T.default,{name:"checkmark",size:Je(16),color:"#4CAF50"}),(0,F.jsx)(u.default,{style:Ye.ruleText,children:"\u8fbe\u5230\u65f6\u95f4\u9650\u5236\u540e\u5c06\u81ea\u52a8\u4ea4\u5377"})]}),(0,F.jsxs)(f.default,{style:Ye.ruleItem,children:[(0,F.jsx)(T.default,{name:"checkmark",size:Je(16),color:"#4CAF50"}),(0,F.jsx)(u.default,{style:Ye.ruleText,children:"\u8003\u8bd5\u8bb0\u5f55\u5c06\u88ab\u4fdd\u5b58\uff0c\u53ef\u5728\u9996\u9875\u67e5\u770b"})]})]})]}),(0,F.jsxs)(N.default,{style:Ye.startButton,onPress:we,children:[(0,F.jsx)(u.default,{style:Ye.startButtonText,children:"\u5f00\u59cb\u8003\u8bd5"}),(0,F.jsx)(T.default,{name:"arrow-forward-circle",size:Je(20),color:"#fff"})]})]}),b&&!C&&function(){var e=O[M];if(!e)return null;var t=Q[e.id];return(0,F.jsxs)(f.default,{style:Ye.questionContainer,children:[(0,F.jsxs)(f.default,{style:Ye.questionHeader,children:[(0,F.jsxs)(u.default,{style:Ye.questionNumber,children:["\u9898\u76ee ",M+1,"/",O.length]}),(0,F.jsxs)(f.default,{style:Ye.timerContainer,children:[(0,F.jsx)(T.default,{name:"time-outline",size:Je(18),color:"#f57c00"}),(0,F.jsx)(u.default,{style:Ye.timerText,children:Ie(G)})]})]}),(0,F.jsx)(H,{currentLanguage:me,onChangeLanguage:je}),(0,F.jsxs)(ge.default,{style:Ye.questionScrollView,showsVerticalScrollIndicator:!0,children:[(0,F.jsx)(u.default,{style:Ye.questionText,children:e.question}),e.signalImage&&(0,F.jsx)(f.default,{style:Ye.imageContainer,children:(0,F.jsx)(q.default,Le({source:e.signalImage,style:Ye.questionImage},ee()))}),(0,F.jsx)(f.default,{style:Ye.optionsContainer,children:e.options.map((function(n){return(0,F.jsxs)(N.default,{style:[Ye.optionButton,t===n.id&&Ye.selectedOption,C&&n.isCorrect&&Ye.correctOption,C&&t===n.id&&!n.isCorrect&&Ye.incorrectOption],onPress:function(){return!C&&function(e,t){var n=Le(Le({},Q),{},(0,z.default)({},e,t));_(n)}(e.id,n.id)},disabled:C,children:[(0,F.jsx)(u.default,{style:Ye.optionLetter,children:n.id}),(0,F.jsx)(u.default,{style:Ye.optionText,children:n.text}),C&&(n.isCorrect?(0,F.jsx)(T.default,{name:"checkmark-circle",size:Je(20),color:"#4caf50",style:Ye.resultIcon}):t===n.id&&(0,F.jsx)(T.default,{name:"close-circle",size:Je(20),color:"#f44336",style:Ye.resultIcon}))]},n.id)}))}),(0,F.jsxs)(f.default,{style:Ye.navigationContainer,children:[(0,F.jsxs)(N.default,{style:[Ye.navButton,0===M&&Ye.disabledButton],onPress:function(){M>0&&W(M-1)},disabled:0===M,children:[(0,F.jsx)(T.default,{name:"chevron-back",size:Je(22),color:"#4c669f"}),(0,F.jsx)(u.default,{style:Ye.navButtonText,children:"\u4e0a\u4e00\u9898"})]}),M<O.length-1?(0,F.jsxs)(N.default,{style:Ye.navButton,onPress:function(){return W(M+1)},children:[(0,F.jsx)(u.default,{style:Ye.navButtonText,children:"\u4e0b\u4e00\u9898"}),(0,F.jsx)(T.default,{name:"chevron-forward",size:Je(22),color:"#4c669f"})]}):(0,F.jsxs)(N.default,{style:[Ye.navButton,Ye.submitButton],onPress:Ce,children:[(0,F.jsx)(u.default,{style:Ye.submitButtonText,children:"\u4ea4\u5377"}),(0,F.jsx)(T.default,{name:"checkmark-circle",size:Je(22),color:"#fff"})]})]}),(0,F.jsx)(f.default,{style:{height:100}})]}),(0,F.jsx)(f.default,{style:Ye.progressContainer,children:(0,F.jsx)(D.default,{horizontal:!0,data:O,keyExtractor:function(e){return e.id.toString()},renderItem:function(e){var t=e.item,n=e.index;return(0,F.jsx)(N.default,{style:[Ye.progressItem,n===M&&Ye.activeProgressItem,Q[t.id]&&Ye.answeredProgressItem],onPress:function(){return W(n)},children:(0,F.jsx)(u.default,{style:[Ye.progressItemText,n===M&&Ye.activeProgressItemText,Q[t.id]&&Ye.answeredProgressItemText],children:n+1})})},showsHorizontalScrollIndicator:!1,contentContainerStyle:Ye.progressList})})]})}(),C&&function(){if(!te)return console.error("No results available to render"),(0,F.jsxs)(f.default,{style:Ye.errorContainer,children:[(0,F.jsx)(T.default,{name:"alert-circle",size:Je(50),color:"#F44336"}),(0,F.jsx)(u.default,{style:Ye.errorText,children:"\u8003\u8bd5\u7ed3\u679c\u52a0\u8f7d\u5931\u8d25"}),(0,F.jsx)(N.default,{style:Ye.actionButton,onPress:Se,children:(0,F.jsx)(u.default,{style:Ye.actionButtonText,children:"\u8fd4\u56de\u9996\u9875"})})]});var e=te.score,t=te.timeSpent,n=te.totalQuestions,r=te.correctCount,o=te.incorrectCount,a=te.answeredQuestions,i=te.unansweredQuestions,s=te.isPassed;return console.log("Rendering exam results:",{score:e,isPassed:s}),(0,F.jsxs)(ge.default,{style:Ye.resultsScrollView,contentContainerStyle:Ye.resultsContent,children:[(0,F.jsxs)(f.default,{style:Ye.examFinishedBanner,children:[(0,F.jsx)(T.default,{name:"checkmark-circle",size:Je(30),color:"#fff"}),(0,F.jsx)(u.default,{style:Ye.examFinishedText,children:"\u8003\u8bd5\u5df2\u5b8c\u6210"})]}),(0,F.jsxs)(f.default,{style:Ye.resultHeader,children:[(0,F.jsxs)(ue.LinearGradient,{colors:s?["#43a047","#2e7d32"]:["#e53935","#c62828"],style:Ye.resultBanner,children:[(0,F.jsx)(u.default,{style:Ye.resultText,children:s?"\u8003\u8bd5\u901a\u8fc7":"\u8003\u8bd5\u672a\u901a\u8fc7"}),(0,F.jsx)(f.default,{style:Ye.scoreCircle,children:(0,F.jsxs)(u.default,{style:Ye.scoreValue,children:[Math.round(e),"%"]})})]}),(0,F.jsxs)(f.default,{style:Ye.resultStats,children:[(0,F.jsxs)(f.default,{style:Ye.statsRow,children:[(0,F.jsxs)(f.default,{style:Ye.statItem,children:[(0,F.jsx)(u.default,{style:Ye.statValue,children:Ie(t)}),(0,F.jsx)(u.default,{style:Ye.statLabel,children:"\u8017\u65f6"})]}),(0,F.jsxs)(f.default,{style:Ye.statItem,children:[(0,F.jsx)(u.default,{style:Ye.statValue,children:n}),(0,F.jsx)(u.default,{style:Ye.statLabel,children:"\u603b\u9898\u6570"})]}),(0,F.jsxs)(f.default,{style:Ye.statItem,children:[(0,F.jsx)(u.default,{style:Ye.statValue,children:a}),(0,F.jsx)(u.default,{style:Ye.statLabel,children:"\u5df2\u7b54\u9898"})]})]}),(0,F.jsxs)(f.default,{style:Ye.statsRow,children:[(0,F.jsxs)(f.default,{style:Ye.statItem,children:[(0,F.jsx)(u.default,{style:[Ye.statValue,{color:"#4CAF50"}],children:r}),(0,F.jsx)(u.default,{style:Ye.statLabel,children:"\u7b54\u5bf9"})]}),(0,F.jsxs)(f.default,{style:Ye.statItem,children:[(0,F.jsx)(u.default,{style:[Ye.statValue,{color:"#F44336"}],children:o}),(0,F.jsx)(u.default,{style:Ye.statLabel,children:"\u7b54\u9519"})]}),(0,F.jsxs)(f.default,{style:Ye.statItem,children:[(0,F.jsx)(u.default,{style:[Ye.statValue,{color:"#FFC107"}],children:i}),(0,F.jsx)(u.default,{style:Ye.statLabel,children:"\u672a\u7b54"})]})]})]})]}),(0,F.jsx)(f.default,{style:Ye.resultMessage,children:(0,F.jsx)(u.default,{style:Ye.messageText,children:s?"\u606d\u559c\u60a8\u901a\u8fc7\u4e86\u8003\u8bd5\uff01\u60a8\u53ef\u4ee5\u67e5\u770b\u9519\u9898\uff0c\u7ee7\u7eed\u7ec3\u4e60\u63d0\u9ad8\u6210\u7ee9\u3002":"\u5f88\u9057\u61be\uff0c\u60a8\u672a\u901a\u8fc7\u8003\u8bd5\u3002\u5efa\u8bae\u67e5\u770b\u9519\u9898\uff0c\u7ee7\u7eed\u7ec3\u4e60\uff0c\u518d\u6b21\u5c1d\u8bd5\u3002"})}),o>0&&(0,F.jsxs)(f.default,{style:Ye.mistakesInfoCard,children:[(0,F.jsxs)(f.default,{style:Ye.mistakesInfoHeader,children:[(0,F.jsx)(T.default,{name:"information-circle",size:Je(22),color:"#1976D2"}),(0,F.jsx)(u.default,{style:Ye.mistakesInfoTitle,children:"\u9519\u9898\u5df2\u81ea\u52a8\u6536\u5f55"})]}),(0,F.jsxs)(u.default,{style:Ye.mistakesInfoText,children:["\u672c\u6b21\u8003\u8bd5\u4e2d\u7684 ",o,' \u9053\u9519\u9898\u5df2\u88ab\u81ea\u52a8\u6536\u5f55\u5230\u9519\u9898\u672c\uff0c\u60a8\u53ef\u4ee5\u968f\u65f6\u901a\u8fc7"\u9519\u9898\u672c"\u8fdb\u884c\u590d\u4e60\u548c\u7ec3\u4e60\u3002']})]}),(0,F.jsxs)(f.default,{style:Ye.resultActions,children:[(0,F.jsxs)(N.default,{style:[Ye.actionButton,Ye.actionButtonWide],onPress:Te,children:[(0,F.jsx)(T.default,{name:"alert-circle",size:Je(20),color:"#F57C00"}),(0,F.jsx)(u.default,{style:Ye.actionButtonText,children:"\u67e5\u770b\u9519\u9898"})]}),(0,F.jsxs)(N.default,{style:[Ye.actionButton,Ye.actionButtonWide],onPress:ke,children:[(0,F.jsx)(T.default,{name:"refresh",size:Je(20),color:"#4CAF50"}),(0,F.jsx)(u.default,{style:Ye.actionButtonText,children:"\u518d\u8003\u4e00\u6b21"})]}),(0,F.jsxs)(N.default,{style:[Ye.actionButton,Ye.actionButtonWide,Ye.primaryButton],onPress:Se,children:[(0,F.jsx)(T.default,{name:"home",size:Je(20),color:"#fff"}),(0,F.jsx)(u.default,{style:[Ye.actionButtonText,{color:"#fff"}],children:"\u8fd4\u56de\u9996\u9875"})]})]})]})}()]})};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){(0,z.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}new Date("2023-05-10"),new Date("2023-05-15"),new Date("2023-05-20");var tt=d.default.create({container:{flex:1,backgroundColor:"#f8f9fa"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},loadingText:{marginTop:16,fontSize:16,color:"#666"},header:{padding:16,backgroundColor:"#fff",borderBottomWidth:1,borderBottomColor:"#f0f0f0"},title:{fontSize:24,fontWeight:"bold",color:"#2196F3"},subtitle:{fontSize:15,color:"#666"},headerButtons:{flexDirection:"row"},headerButton:{marginLeft:10,padding:5},headerButtonText:{color:"#0066cc",fontWeight:"500",fontSize:15},deleteButton:{marginHorizontal:10},deleteButtonText:{color:"#F44336"},listContainer:{padding:16},favoriteItem:{backgroundColor:"#fff",borderRadius:8,padding:16,marginBottom:12,flexDirection:"row",justifyContent:"space-between",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.05,shadowRadius:2,elevation:1},selectedItem:{backgroundColor:"#f0f8ff"},checkboxContainer:{marginRight:10,justifyContent:"center"},favoriteContent:{flex:1,marginRight:8},favoriteHeader:{flexDirection:"row",justifyContent:"space-between",marginBottom:8},favoriteCategory:{color:"#0066cc",fontSize:14,fontWeight:"500"},favoriteDate:{color:"#999",fontSize:14},favoriteQuestion:{fontSize:16,color:"#333"},favoriteActions:{flexDirection:"row",justifyContent:"flex-end"},viewButton:{backgroundColor:"#f0f8ff",paddingHorizontal:12,paddingVertical:6,borderRadius:4},viewButtonText:{color:"#0066cc",fontWeight:"500",fontSize:14},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:32},emptyText:{marginTop:16,fontSize:16,color:"#666",textAlign:"center"}});const nt=function(){var e=(0,h.useTranslation)().t,t=(0,O.useNavigation)(),n=(0,s.useState)(!0),a=(0,o.default)(n,2),i=a[0],c=a[1],d=(0,s.useState)([]),g=(0,o.default)(d,2),p=g[0],m=g[1],x=(0,s.useState)(!1),y=(0,o.default)(x,2),b=y[0],v=y[1],j=(0,s.useState)([]),w=(0,o.default)(j,2),C=w[0],S=w[1],k=function(){var e=(0,r.default)((function*(){try{c(!0),console.log("Loading favorites...");var e=yield Ie();console.log(`Loaded ${e.length} favorite items`);var t=e.map((function(e){var t;try{t=e.dateAdded instanceof Date?e.dateAdded:new Date(e.dateAdded||e.timestamp||Date.now())}catch(n){console.error("Error parsing date:",n),t=new Date}return et(et({},e),{},{dateAdded:t})}));m(t),c(!1)}catch(n){console.error("Error loading favorites:",n),c(!1),m([])}}));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){return k(),t.addListener("focus",k)}),[t]);var I=function(){v(!b),S([])},z=function(e){C.includes(e)?S(C.filter((function(t){return t!==e}))):S([].concat((0,E.default)(C),[e]))},A=function(){var e=(0,r.default)((function*(){try{for(var e of C)yield Te(e);yield k(),S([]),v(!1)}catch(t){console.error("Failed to delete selected favorites:",t)}}));return function(){return e.apply(this,arguments)}}(),B=function(e){t.navigate("QuestionDetail",{questionId:e.id})};return i?(0,F.jsxs)(f.default,{style:tt.loadingContainer,children:[(0,F.jsx)(l.default,{size:"large",color:"#2196F3"}),(0,F.jsx)(u.default,{style:tt.loadingText,children:e("common.loading")})]}):(0,F.jsxs)(P.default,{style:tt.container,children:[(0,F.jsxs)(f.default,{style:tt.header,children:[(0,F.jsxs)(f.default,{children:[(0,F.jsx)(u.default,{style:tt.title,children:e("favorites.title")}),(0,F.jsxs)(u.default,{style:tt.subtitle,children:["\u5df2\u6536\u85cf ",p.length," \u4e2a\u9898\u76ee"]})]}),p.length>0&&(0,F.jsx)(f.default,{style:tt.headerButtons,children:b?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(N.default,{style:tt.headerButton,onPress:function(){C.length===p.length?S([]):S(p.map((function(e){return e.id})))},children:(0,F.jsx)(u.default,{style:tt.headerButtonText,children:C.length===p.length?"\u53d6\u6d88\u5168\u9009":"\u5168\u9009"})}),(0,F.jsx)(N.default,{style:[tt.headerButton,tt.deleteButton],onPress:A,disabled:0===C.length,children:(0,F.jsx)(u.default,{style:[tt.headerButtonText,tt.deleteButtonText],children:"\u5220\u9664"})}),(0,F.jsx)(N.default,{style:tt.headerButton,onPress:I,children:(0,F.jsx)(u.default,{style:tt.headerButtonText,children:"\u53d6\u6d88"})})]}):(0,F.jsx)(N.default,{style:tt.headerButton,onPress:I,children:(0,F.jsx)(u.default,{style:tt.headerButtonText,children:"\u7f16\u8f91"})})})]}),p.length>0?(0,F.jsx)(D.default,{data:p,renderItem:function(e){var t=e.item,n="";try{n=t.dateAdded instanceof Date?t.dateAdded.toLocaleDateString():new Date(t.dateAdded||Date.now()).toLocaleDateString()}catch(r){console.error("Error formatting date:",r),n=(new Date).toLocaleDateString()}return(0,F.jsxs)(N.default,{style:[tt.favoriteItem,b&&C.includes(t.id)&&tt.selectedItem],onPress:function(){b?z(t.id):B(t)},onLongPress:I,children:[b&&(0,F.jsx)(N.default,{style:tt.checkboxContainer,onPress:function(){return z(t.id)},children:(0,F.jsx)(T.default,{name:C.includes(t.id)?"checkbox":"square-outline",size:24,color:C.includes(t.id)?"#0066cc":"#ccc"})}),(0,F.jsxs)(f.default,{style:tt.favoriteContent,children:[(0,F.jsxs)(f.default,{style:tt.favoriteHeader,children:[(0,F.jsx)(u.default,{style:tt.favoriteCategory,children:t.category}),(0,F.jsx)(u.default,{style:tt.favoriteDate,children:n})]}),(0,F.jsx)(u.default,{style:tt.favoriteQuestion,children:t.question}),(0,F.jsx)(f.default,{style:tt.favoriteActions,children:(0,F.jsx)(N.default,{style:tt.viewButton,onPress:function(){return B(t)},children:(0,F.jsx)(u.default,{style:tt.viewButtonText,children:"\u67e5\u770b\u8be6\u60c5"})})})]})]})},keyExtractor:function(e){var t;return(null==(t=e.id)?void 0:t.toString())||Math.random().toString()},contentContainerStyle:tt.listContainer}):(0,F.jsxs)(f.default,{style:tt.emptyContainer,children:[(0,F.jsx)(T.default,{name:"heart-outline",size:80,color:"#bdbdbd"}),(0,F.jsx)(u.default,{style:tt.emptyText,children:e("favorites.noFavorites")})]})]})};var rt=n(1171);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,z.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=B.default.get("window"),st=it.width,lt=it.height,ct=function(e){return st*e/100},dt=function(e){return lt*e/100},ut=function(e){var t=Math.min(st,lt)/375;return Math.round(e*t)};function ft(e){var t=e.navigation,a=(0,h.useTranslation)().t,i=(0,s.useState)({totalExams:0,totalQuestions:0,averageAccuracy:0}),l=(0,o.default)(i,2),d=l[0],g=l[1],p=(0,s.useState)(0),m=(0,o.default)(p,2),x=m[0],y=m[1],b=(0,s.useState)(0),v=(0,o.default)(b,2),j=v[0],w=v[1],C=[{id:"browse",icon:"list",screen:"Browse",color:"#4286f4"},{id:"exam",icon:"school",screen:"Exam",color:"#2ecc71"},{id:"favorites",icon:"heart",screen:"Favorites",color:"#e74c3c",badge:x},{id:"mistakes",icon:"close-circle",screen:"Mistakes",color:"#f39c12",badge:j}];(0,s.useEffect)((function(){var e=!0,n=function(){var t=(0,r.default)((function*(){try{var t=yield qe();e&&g({totalExams:t.totalExams,totalQuestions:t.totalQuestions,averageAccuracy:t.averageAccuracy})}catch(n){console.error("Failed to load study stats:",n)}}));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,r.default)((function*(){try{var t=yield Ie();e&&y(t.length)}catch(n){console.error("Failed to load favorites count:",n)}}));return function(){return t.apply(this,arguments)}}(),a=function(){var t=(0,r.default)((function*(){try{var t=yield ze();e&&w(t.length)}catch(n){console.error("Failed to load mistakes count:",n)}}));return function(){return t.apply(this,arguments)}}();n(),o(),a();var i=t.addListener("focus",(function(){n(),o(),a()}));return function(){e=!1,i()}}),[t]),(0,s.useEffect)((function(){!function(){var e,n=t.getState().routes.find((function(e){return"Home"===e.name}));if(null!=n&&null!=(e=n.params)&&e.examCompleted){var r=n.params.examResults;setTimeout((function(){A.default.alert("\u8003\u8bd5\u5df2\u5b8c\u6210",`\u60a8\u7684\u8003\u8bd5\u6210\u7ee9: ${r.score}%\n\u7b54\u5bf9: ${r.correctCount} \u9898\n\u7b54\u9519: ${r.incorrectCount} \u9898\n\n`+(r.incorrectCount>0?"\u6240\u6709\u9519\u9898\u5df2\u81ea\u52a8\u6536\u5f55\u81f3\u9519\u9898\u672c\uff0c\u53ef\u968f\u65f6\u590d\u4e60\u3002":"\u606d\u559c\u60a8\u5168\u90e8\u7b54\u5bf9\uff01"),[{text:"\u6211\u77e5\u9053\u4e86",style:"default"},{text:r.incorrectCount>0?"\u67e5\u770b\u9519\u9898":"\u7ee7\u7eed\u7ec3\u4e60",onPress:function(){return r.incorrectCount>0?t.navigate("Mistakes"):t.navigate("Browse")},style:"default"}])}),500),t.setParams({examCompleted:void 0,examResults:void 0})}}()}),[t]);var S=function(e){switch(e){case"browse":return a("home.browseTopic");case"exam":return a("home.startExam");case"favorites":return a("home.favorites");case"mistakes":return a("home.reviewMistakes");default:return""}};return(0,F.jsxs)(rt.SafeAreaView,{style:gt.container,children:[(0,F.jsx)(c.default,{barStyle:"dark-content",backgroundColor:"#f8f9fa"}),(0,F.jsxs)(ge.default,{showsVerticalScrollIndicator:!1,contentContainerStyle:gt.scrollContent,children:[(0,F.jsx)(ue.LinearGradient,{colors:["#4c669f","#3b5998","#192f6a"],style:gt.headerGradient,children:(0,F.jsxs)(f.default,{style:gt.header,children:[(0,F.jsx)(u.default,{style:gt.title,children:a("home.title")}),(0,F.jsx)(u.default,{style:gt.subtitle,children:a("home.subtitle")}),(0,F.jsx)(q.default,{source:n(7345),style:gt.headerImage,resizeMode:"contain"})]})}),(0,F.jsxs)(f.default,{style:gt.featuresContainer,children:[(0,F.jsx)(u.default,{style:gt.sectionTitle,children:"\u4e3b\u8981\u529f\u80fd"}),(0,F.jsx)(f.default,{style:gt.featuresGrid,children:C.map((function(e){return(0,F.jsxs)(N.default,{style:[gt.featureCard,{backgroundColor:e.color}],onPress:function(){return t.navigate(e.screen)},activeOpacity:.8,children:[(0,F.jsxs)(f.default,{style:gt.featureIconContainer,children:[(0,F.jsx)(T.default,{name:e.icon,size:ut(28),color:"#fff"}),e.badge>0&&(0,F.jsx)(f.default,{style:gt.badgeContainer,children:(0,F.jsx)(u.default,{style:gt.badgeText,children:e.badge})})]}),(0,F.jsx)(u.default,{style:gt.featureTitle,children:S(e.id)})]},e.id)}))})]}),(0,F.jsxs)(f.default,{style:gt.cardSection,children:[(0,F.jsx)(u.default,{style:gt.sectionTitle,children:a("home.studyStats")}),(0,F.jsxs)(N.default,{style:gt.statsCard,onPress:function(){return t.navigate("StudyProgress")},activeOpacity:.7,children:[(0,F.jsxs)(f.default,{style:gt.statsContent,children:[(0,F.jsxs)(f.default,{style:gt.statItem,children:[(0,F.jsx)(u.default,{style:gt.statValue,children:d.totalExams}),(0,F.jsx)(u.default,{style:gt.statLabel,children:a("home.examsTaken")})]}),(0,F.jsx)(f.default,{style:gt.statDivider}),(0,F.jsxs)(f.default,{style:gt.statItem,children:[(0,F.jsx)(u.default,{style:gt.statValue,children:d.totalQuestions}),(0,F.jsx)(u.default,{style:gt.statLabel,children:a("home.questionsAnswered")})]}),(0,F.jsx)(f.default,{style:gt.statDivider}),(0,F.jsxs)(f.default,{style:gt.statItem,children:[(0,F.jsx)(u.default,{style:gt.statValue,children:void 0===d.averageAccuracy||isNaN(d.averageAccuracy)?"0%":`${Math.round(100*d.averageAccuracy)}%`}),(0,F.jsx)(u.default,{style:gt.statLabel,children:a("home.accuracy")})]})]}),(0,F.jsxs)(f.default,{style:gt.statsFooter,children:[(0,F.jsx)(u.default,{style:gt.viewMoreText,children:"\u67e5\u770b\u8be6\u7ec6\u7edf\u8ba1"}),(0,F.jsx)(T.default,{name:"chevron-forward",size:ut(18),color:"#4c669f"})]})]})]}),(0,F.jsxs)(f.default,{style:gt.cardSection,children:[(0,F.jsx)(u.default,{style:gt.sectionTitle,children:"\u8003\u8bd5\u987b\u77e5"}),(0,F.jsxs)(f.default,{style:gt.infoCard,children:[(0,F.jsxs)(f.default,{style:gt.infoHeader,children:[(0,F.jsx)(T.default,{name:"information-circle",size:ut(24),color:"#4c669f"}),(0,F.jsx)(u.default,{style:gt.infoTitle,children:a("exam.examInfo")})]}),(0,F.jsxs)(u.default,{style:gt.infoText,children:["\u2022 ",a("exam.examInfoLine1"),"\n","\u2022 ",a("exam.examInfoLine2"),"\n","\u2022 ",a("exam.examInfoLine3"),"\n","\u2022 ",a("exam.examInfoLine4")]})]})]})]})]})}var gt=d.default.create({container:{flex:1,backgroundColor:"#f8f9fa"},scrollContent:{paddingBottom:dt(5)},headerGradient:{paddingTop:"android"===fe.default.OS&&c.default.currentHeight||0,paddingBottom:dt(4),borderBottomLeftRadius:20,borderBottomRightRadius:20},header:{padding:ct(5),alignItems:"center",justifyContent:"center"},title:{fontSize:ut(28),fontWeight:"bold",color:"#fff",marginTop:dt(1)},subtitle:{fontSize:ut(16),color:"#e0e0e0",marginTop:dt(1)},headerImage:{width:ct(30),height:dt(10),marginTop:dt(2)},sectionTitle:{fontSize:ut(18),fontWeight:"bold",color:"#333",marginLeft:ct(5),marginBottom:dt(1.5)},cardSection:{marginTop:dt(2)},featuresContainer:{padding:ct(3),marginTop:dt(2)},featuresGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginHorizontal:ct(2)},featureCard:at({width:"48%",height:dt(15),backgroundColor:"#4c669f",borderRadius:16,padding:ct(3),marginBottom:dt(2),alignItems:"center",justifyContent:"center"},K({offset:{width:0,height:2},opacity:.1,radius:4,elevation:3})),featureIconContainer:{marginBottom:dt(1)},featureTitle:{fontSize:ut(16),color:"#fff",fontWeight:"bold",textAlign:"center"},statsCard:at({backgroundColor:"#fff",margin:ct(5),borderRadius:12},K({offset:{width:0,height:2},opacity:.1,radius:4,elevation:3})),statsContent:{flexDirection:"row",padding:ct(4)},statItem:{flex:1,alignItems:"center"},statValue:{fontSize:ut(24),fontWeight:"bold",color:"#4c669f",marginBottom:dt(.5)},statLabel:{fontSize:ut(12),color:"#666"},statDivider:{width:1,backgroundColor:"#f0f0f0"},statsFooter:{flexDirection:"row",justifyContent:"center",alignItems:"center",borderTopWidth:1,borderTopColor:"#f0f0f0",paddingVertical:dt(1.5)},viewMoreText:{fontSize:ut(14),color:"#4c669f",marginRight:ct(1),fontWeight:"500"},infoCard:at({backgroundColor:"#fff",margin:ct(5),padding:ct(4),borderRadius:12},K({offset:{width:0,height:2},opacity:.1,radius:4,elevation:3})),infoHeader:{flexDirection:"row",alignItems:"center",marginBottom:dt(1.5)},infoTitle:{fontSize:ut(16),fontWeight:"bold",marginLeft:ct(2)},infoText:{lineHeight:ut(20),color:"#444",fontSize:ut(14)},badgeContainer:{position:"absolute",top:-8,right:-8,backgroundColor:"#e74c3c",borderRadius:12,minWidth:20,minHeight:20,justifyContent:"center",alignItems:"center",paddingHorizontal:5},badgeText:{fontSize:ut(10),fontWeight:"bold",color:"#fff"}});function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){(0,z.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=B.default.get("window"),xt=ht.width,yt=ht.height,bt=function(e){return xt*e/100},vt=function(e){return yt*e/100},jt=function(e){var t=Math.min(xt,yt)/375;return Math.round(e*t)},wt=d.default.create({container:{flex:1,backgroundColor:"#f8f9fa"},header:{padding:bt(5),backgroundColor:"#fff",borderBottomWidth:1,borderBottomColor:"#f0f0f0",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},title:{fontSize:jt(24),fontWeight:"bold",color:"#333"},subtitle:{fontSize:jt(14),color:"#666",marginLeft:bt(2),alignSelf:"flex-end"},clearButton:{flexDirection:"row",alignItems:"center",backgroundColor:"#fff0f0",paddingHorizontal:bt(3),paddingVertical:vt(.5),borderRadius:20},clearButtonText:{color:"#e74c3c",fontSize:jt(14),marginLeft:bt(1)},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},loadingText:{marginTop:vt(2),fontSize:jt(16),color:"#666"},mistakesList:{padding:bt(3)},mistakeItem:{backgroundColor:"#fff",borderRadius:10,marginBottom:vt(2),padding:bt(4),shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2,elevation:2},mistakeHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:vt(1.5)},categoryBadge:{backgroundColor:"#eef2ff",paddingHorizontal:bt(2),paddingVertical:vt(.3),borderRadius:12},categoryText:{color:"#4c669f",fontWeight:"500",fontSize:jt(12)},mistakeDate:{color:"#999",fontSize:jt(12)},mistakeQuestion:{fontSize:jt(16),color:"#333",marginBottom:vt(1.5),lineHeight:jt(22)},imageContainer:{alignItems:"center",marginBottom:vt(1.5),backgroundColor:"#f9f9f9",borderRadius:8,padding:bt(2)},questionImage:{width:bt(40),height:bt(40)},answerContainer:{backgroundColor:"#f9f9f9",borderRadius:8,padding:bt(3),marginBottom:vt(1.5)},answerRow:{flexDirection:"row",alignItems:"center",marginBottom:vt(1)},answerBadge:{paddingHorizontal:bt(2),paddingVertical:vt(.2),borderRadius:12,marginRight:bt(2)},wrongBadge:{backgroundColor:"#ffebee"},correctBadge:{backgroundColor:"#e8f5e9"},answerBadgeText:{fontSize:jt(11),fontWeight:"500"},answerText:{flex:1,fontSize:jt(14),color:"#444"},mistakeActions:{flexDirection:"row",justifyContent:"flex-end",borderTopWidth:1,borderTopColor:"#f0f0f0",paddingTop:vt(1.5)},actionButton:{flexDirection:"row",alignItems:"center",paddingHorizontal:bt(3),paddingVertical:vt(.8),borderRadius:20,marginLeft:bt(2)},viewButton:{backgroundColor:"#f0f5ff"},deleteButton:{backgroundColor:"#fff0f0"},viewButtonText:{color:"#4c669f",fontSize:jt(14),marginLeft:bt(1)},deleteButtonText:{color:"#e74c3c",fontSize:jt(14),marginLeft:bt(1)},emptyContainer:{flex:1,alignItems:"center",justifyContent:"center",padding:bt(5),marginTop:vt(10)},emptyText:{fontSize:jt(18),fontWeight:"bold",color:"#666",marginTop:vt(3)},emptySubText:{fontSize:jt(14),color:"#999",marginTop:vt(1),marginBottom:vt(5),textAlign:"center"},startExamButton:{flexDirection:"row",alignItems:"center",backgroundColor:"#4c669f",paddingHorizontal:bt(5),paddingVertical:vt(1.5),borderRadius:25},startExamText:{color:"#fff",fontSize:jt(16),fontWeight:"500",marginRight:bt(2)}});const Ct=function(e){var t=e.navigation,n=((0,h.useTranslation)().t,(0,s.useState)(!0)),a=(0,o.default)(n,2),i=a[0],d=a[1],g=(0,s.useState)([]),m=(0,o.default)(g,2),x=m[0],y=m[1],b=(0,s.useState)([]),v=(0,o.default)(b,2),j=(v[0],v[1]);(0,s.useEffect)((function(){var e=function(){var e=(0,r.default)((function*(){try{d(!0);var e=yield X.loadAllQuestionSets();j(e),console.log("Loaded questions:",e.length),console.log("Fetching mistake records...");var t=yield ze();if(console.log("Mistake records loaded:",t?t.length:"none"),!t||0===t.length)return console.log("No mistakes found"),y([]),void d(!1);var n=t.map((function(t){if(!t||!t.questionId)return console.warn("Invalid mistake record:",t),null;var n=e.find((function(e){return e.id&&e.id.toString()===t.questionId.toString()}));return n?mt(mt({},t),{},{question:n.question,category:n.category,chineseCategory:X.getChineseCategoryName(n.category),answers:n.answers,correctAnswer:n.answers.findIndex((function(e){return e.correct}))>=0?String.fromCharCode(65+n.answers.findIndex((function(e){return e.correct}))):"A",signalImage:n.signalImage,date:new Date(t.timestamp||Date.now()).toLocaleDateString()}):(console.warn("Could not find question details for mistake:",t.questionId),null)})).filter((function(e){return e&&e.question}));console.log("Processed mistakes with details:",n.length),n.sort((function(e,t){return(t.timestamp||0)-(e.timestamp||0)})),y(n),d(!1)}catch(r){console.error("Error loading mistakes:",r),d(!1),A.default.alert("\u52a0\u8f7d\u9519\u8bef","\u52a0\u8f7d\u9519\u9898\u6570\u636e\u5931\u8d25: "+r.message,[{text:"\u786e\u5b9a",style:"default"}])}}));return function(){return e.apply(this,arguments)}}();e();var n=t.addListener("focus",e);return function(){return n()}}),[t]);var w=function(){var e=(0,r.default)((function*(e){var t=yield X.loadAllQuestionSets(),n=e.map((function(e){if(!e||!e.questionId)return console.warn("Invalid mistake record:",e),null;var n=t.find((function(t){return t.id&&t.id.toString()===e.questionId.toString()}));return n?mt(mt({},e),{},{question:n.question,category:n.category,chineseCategory:X.getChineseCategoryName(n.category),answers:n.answers,correctAnswer:n.answers.findIndex((function(e){return e.correct}))>=0?String.fromCharCode(65+n.answers.findIndex((function(e){return e.correct}))):"A",signalImage:n.signalImage,date:new Date(e.timestamp||Date.now()).toLocaleDateString()}):(console.warn("Could not find question details for mistake:",e.questionId),null)})).filter((function(e){return e&&e.question}));return n.sort((function(e,t){return(t.timestamp||0)-(e.timestamp||0)})),n}));return function(t){return e.apply(this,arguments)}}();return(0,F.jsxs)(P.default,{style:wt.container,children:[(0,F.jsx)(c.default,{barStyle:"dark-content",backgroundColor:"#f8f9fa"}),(0,F.jsxs)(f.default,{style:wt.header,children:[(0,F.jsx)(u.default,{style:wt.title,children:"\u9519\u9898\u672c"}),(0,F.jsxs)(u.default,{style:wt.subtitle,children:["\u5171",x.length,"\u9053\u9519\u9898"]}),x.length>0&&(0,F.jsxs)(N.default,{style:wt.clearButton,onPress:function(){0!==x.length?A.default.alert("\u6e05\u7a7a\u9519\u9898","\u786e\u5b9a\u8981\u6e05\u7a7a\u6240\u6709\u9519\u9898\u8bb0\u5f55\u5417\uff1f\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\u3002",[{text:"\u53d6\u6d88",style:"cancel"},{text:"\u786e\u5b9a",style:"destructive",onPress:function(){var e=(0,r.default)((function*(){try{d(!0),console.log("Clearing all mistakes"),yield Ae(),console.log("All mistakes cleared"),y([]),A.default.alert("\u64cd\u4f5c\u6210\u529f","\u6240\u6709\u9519\u9898\u8bb0\u5f55\u5df2\u6e05\u7a7a")}catch(e){console.error("Error clearing mistakes:",e);try{console.log("Trying alternative method to clear mistakes..."),yield p.default.setItem("mistakes",JSON.stringify([])),y([]),A.default.alert("\u64cd\u4f5c\u6210\u529f","\u6240\u6709\u9519\u9898\u8bb0\u5f55\u5df2\u6e05\u7a7a")}catch(t){console.error("Backup clear method also failed:",t),A.default.alert("\u9519\u8bef","\u6e05\u7a7a\u9519\u9898\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002")}}finally{d(!1)}}));return function(){return e.apply(this,arguments)}}()}]):console.log("No mistakes to clear")},children:[(0,F.jsx)(T.default,{name:"trash",size:jt(18),color:"#e74c3c"}),(0,F.jsx)(u.default,{style:wt.clearButtonText,children:"\u6e05\u7a7a"})]})]}),i?(0,F.jsxs)(f.default,{style:wt.loadingContainer,children:[(0,F.jsx)(l.default,{size:"large",color:"#4c669f"}),(0,F.jsx)(u.default,{style:wt.loadingText,children:"\u52a0\u8f7d\u9519\u9898\u4e2d..."})]}):(0,F.jsx)(D.default,{data:x,renderItem:function(e){var n=e.item,o=n.userAnswer?n.userAnswer.charCodeAt(0)-65:-1,a=o>=0&&n.answers[o]?n.answers[o].text:"\u672a\u4f5c\u7b54",i=n.answers.findIndex((function(e){return e.correct})),s=i>=0?`${String.fromCharCode(65+i)}: ${n.answers[i].text}`:"\u672a\u77e5";return(0,F.jsxs)(f.default,{style:wt.mistakeItem,children:[(0,F.jsxs)(f.default,{style:wt.mistakeHeader,children:[(0,F.jsx)(f.default,{style:wt.categoryBadge,children:(0,F.jsx)(u.default,{style:wt.categoryText,children:n.chineseCategory||n.category})}),(0,F.jsx)(u.default,{style:wt.mistakeDate,children:n.date})]}),(0,F.jsx)(u.default,{style:wt.mistakeQuestion,children:n.question}),n.signalImage&&(0,F.jsx)(f.default,{style:wt.imageContainer,children:(0,F.jsx)(q.default,mt({source:n.signalImage},ee(mt(mt({},wt.questionImage),{},{resizeMode:"contain"}))))}),(0,F.jsxs)(f.default,{style:wt.answerContainer,children:[(0,F.jsxs)(f.default,{style:wt.answerRow,children:[(0,F.jsx)(f.default,{style:[wt.answerBadge,wt.wrongBadge],children:(0,F.jsx)(u.default,{style:wt.answerBadgeText,children:"\u60a8\u7684\u7b54\u6848"})}),(0,F.jsxs)(u.default,{style:wt.answerText,children:[n.userAnswer,": ",a]})]}),(0,F.jsxs)(f.default,{style:wt.answerRow,children:[(0,F.jsx)(f.default,{style:[wt.answerBadge,wt.correctBadge],children:(0,F.jsx)(u.default,{style:wt.answerBadgeText,children:"\u6b63\u786e\u7b54\u6848"})}),(0,F.jsx)(u.default,{style:wt.answerText,children:s})]})]}),(0,F.jsxs)(f.default,{style:wt.mistakeActions,children:[(0,F.jsxs)(N.default,{style:[wt.actionButton,wt.viewButton],onPress:function(){return e=n,void t.navigate("QuestionDetail",{questionId:e.questionId});var e},children:[(0,F.jsx)(T.default,{name:"eye",size:jt(16),color:"#4c669f"}),(0,F.jsx)(u.default,{style:wt.viewButtonText,children:"\u67e5\u770b\u8be6\u60c5"})]}),(0,F.jsxs)(N.default,{style:[wt.actionButton,wt.deleteButton],onPress:function(){var e;(e=n.questionId)?A.default.alert("\u5220\u9664\u9519\u9898","\u786e\u5b9a\u8981\u4ece\u9519\u9898\u5217\u8868\u4e2d\u5220\u9664\u6b64\u9898\u76ee\u5417\uff1f",[{text:"\u53d6\u6d88",style:"cancel"},{text:"\u786e\u5b9a",onPress:function(){var t=(0,r.default)((function*(){try{d(!0),console.log(`Removing mistake with ID: ${e}`);var t=yield Oe(e);if(console.log("Remove result:",t),t){var n=x.filter((function(t){return t.questionId.toString()!==e.toString()}));y(n),console.log(`Updated mistakes in UI: ${n.length}`)}else{console.warn("Failed to remove mistake, reloading data...");var r=yield ze(),o=yield w(r);y(o)}}catch(a){console.error("Error removing mistake:",a),A.default.alert("\u9519\u8bef","\u5220\u9664\u9519\u9898\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002")}finally{d(!1)}}));return function(){return t.apply(this,arguments)}}()}]):console.error("Missing questionId for removal")},children:[(0,F.jsx)(T.default,{name:"trash-bin",size:jt(16),color:"#e74c3c"}),(0,F.jsx)(u.default,{style:wt.deleteButtonText,children:"\u79fb\u9664"})]})]})]})},keyExtractor:function(e){return e.questionId.toString()},contentContainerStyle:wt.mistakesList,showsVerticalScrollIndicator:!0,ListEmptyComponent:function(){return(0,F.jsxs)(f.default,{style:wt.emptyContainer,children:[(0,F.jsx)(T.default,{name:"checkmark-circle",size:jt(80),color:"#e0e0e0"}),(0,F.jsx)(u.default,{style:wt.emptyText,children:"\u60a8\u8fd8\u6ca1\u6709\u9519\u9898\u8bb0\u5f55"}),(0,F.jsx)(u.default,{style:wt.emptySubText,children:"\u7b54\u9519\u7684\u9898\u76ee\u4f1a\u81ea\u52a8\u8bb0\u5f55\u5728\u8fd9\u91cc"}),(0,F.jsxs)(N.default,{style:wt.startExamButton,onPress:function(){return t.navigate("Exam")},children:[(0,F.jsx)(u.default,{style:wt.startExamText,children:"\u5f00\u59cb\u6a21\u62df\u8003\u8bd5"}),(0,F.jsx)(T.default,{name:"arrow-forward",size:jt(16),color:"#fff"})]})]})}})]})};function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){(0,z.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=B.default.get("window"),It=kt.width,Et=kt.height,zt=function(e){return It*e/100},Ot=function(e){return Et*e/100},At=function(e){var t=Math.min(It,Et)/375;return Math.round(e*t)},Bt=d.default.create({container:{flex:1,backgroundColor:"#f8f9fa"},headerGradient:{paddingTop:"android"===fe.default.OS?c.default.currentHeight:0},header:{padding:zt(5)},headerTop:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:Ot(1)},backBtn:{padding:zt(1)},headerInfo:{marginTop:Ot(1)},categoryText:{fontSize:At(14),color:"#e0e0e0"},questionIdText:{fontSize:At(18),fontWeight:"bold",color:"#fff",marginTop:zt(1)},favoriteButton:{padding:zt(1)},scrollContent:{paddingBottom:Ot(5)},languageSwitcherContainer:{marginTop:Ot(1),marginBottom:Ot(.5),alignItems:"center"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},loadingText:{marginTop:Ot(2),fontSize:At(16),color:"#666"},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:zt(5)},errorText:{fontSize:At(18),color:"#F44336",marginTop:Ot(2),marginBottom:Ot(3)},backButton:{backgroundColor:"#4c669f",paddingHorizontal:zt(5),paddingVertical:Ot(1),borderRadius:20},backButtonText:{color:"#fff",fontWeight:"500",fontSize:At(14)},questionContainer:{padding:zt(5),backgroundColor:"#fff",borderRadius:10,margin:zt(3),marginTop:Ot(2),shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2,elevation:2},questionText:{fontSize:At(18),color:"#333",fontWeight:"500",lineHeight:At(26)},imageContainer:{alignItems:"center",marginTop:Ot(2),backgroundColor:"#f9f9f9",padding:zt(3),borderRadius:8},questionImage:{width:zt(70),height:zt(70)},optionsContainer:{padding:zt(3)},option:{flexDirection:"row",alignItems:"center",backgroundColor:"#fff",padding:zt(4),paddingVertical:Ot(1.5),borderRadius:10,marginBottom:Ot(1.5),shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:1,elevation:1},selectedOption:{backgroundColor:"#e3f2fd",borderColor:"#4c669f",borderWidth:1},correctOption:{backgroundColor:"#e8f5e9",borderColor:"#4CAF50",borderWidth:1},incorrectOption:{backgroundColor:"#ffebee",borderColor:"#F44336",borderWidth:1},optionIcon:{marginRight:zt(3)},optionText:{fontSize:At(16),color:"#333",flex:1,lineHeight:At(22)},selectedOptionText:{color:"#4c669f",fontWeight:"500"},correctOptionText:{color:"#4CAF50",fontWeight:"500"},incorrectOptionText:{color:"#F44336",fontWeight:"500"},resultContainer:{marginHorizontal:zt(3),marginTop:Ot(2)},resultBanner:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:zt(3),borderRadius:10,marginBottom:Ot(2)},correctBanner:{backgroundColor:"#4CAF50"},incorrectBanner:{backgroundColor:"#F44336"},resultIcon:{marginRight:zt(2)},resultText:{color:"#fff",fontSize:At(18),fontWeight:"bold"},explanationContainer:{backgroundColor:"#fff8e1",borderRadius:10,padding:zt(4),shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2,elevation:2},explanationHeader:{flexDirection:"row",alignItems:"center",marginBottom:Ot(1)},explanationTitle:{fontSize:At(16),fontWeight:"bold",color:"#F57C00",marginLeft:zt(2)},explanationText:{fontSize:At(15),color:"#5D4037",lineHeight:At(22)},buttonContainer:{padding:zt(5),paddingTop:Ot(3)},button:{backgroundColor:"#4c669f",padding:Ot(1.8),borderRadius:10,alignItems:"center",flexDirection:"row",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:3,elevation:3},buttonDisabled:{backgroundColor:"#B0BEC5"},nextButton:{backgroundColor:"#4CAF50"},buttonText:{color:"#fff",fontSize:At(16),fontWeight:"bold",marginRight:zt(2)}});const Dt=function(e){var t=e.route,n=e.navigation,a=t.params.questionId,i=(0,h.useTranslation)(),d=(i.t,i.i18n),g=(0,s.useState)(null),p=(0,o.default)(g,2),m=p[0],x=p[1],y=(0,s.useState)(!0),b=(0,o.default)(y,2),v=b[0],j=b[1],w=(0,s.useState)(""),C=(0,o.default)(w,2),S=C[0],k=C[1],I=(0,s.useState)(!1),E=(0,o.default)(I,2),z=E[0],O=E[1],A=(0,s.useState)(!1),B=(0,o.default)(A,2),D=B[0],R=B[1],L=(0,s.useState)(null),M=(0,o.default)(L,2),W=M[0],V=M[1],$=(0,s.useState)(d.language||"zh"),Q=(0,o.default)($,2),_=Q[0],J=Q[1],U=function(){var e=(0,r.default)((function*(e){J(e),d.changeLanguage(e),yield G(e)}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=(0,r.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;try{if(!a)return console.error("Question ID is undefined"),void j(!1);var t=(yield X.loadAllQuestionSets(e)).find((function(e){return e.id&&e.id.toString()===a.toString()}));if(t){var n=Tt(Tt({},t),{},{options:t.answers.map((function(e,t){return{id:String.fromCharCode(65+t),text:e.text,isCorrect:e.correct}})),correctAnswer:t.answers.findIndex((function(e){return e.correct}))>=0?String.fromCharCode(65+t.answers.findIndex((function(e){return e.correct}))):"A",explanation:t.explanation||"\u6682\u65e0\u89e3\u6790",category:X.getChineseCategoryName(t.category)});t.signalImage&&(n.signalImage=t.signalImage),x(n);var r=yield ke(a);R(r)}else console.error("Question not found in asset data:",a);j(!1)}catch(o){console.error("Error loading question:",o),j(!1)}}));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){G()}),[a]);var Y=function(){var e=(0,r.default)((function*(){try{D?yield Te(m.id):yield Se(m.id),R(!D)}catch(e){console.error("Error toggling favorite:",e)}}));return function(){return e.apply(this,arguments)}}(),Z=function(e){var t=S===e.id,n=m.correctAnswer===e.id,r=Bt.option,o=Bt.optionText,a="ellipse-outline",i="#999";return z?n?(r=[Bt.option,Bt.correctOption],o=[Bt.optionText,Bt.correctOptionText],a="checkmark-circle",i="#4CAF50"):t&&!n&&(r=[Bt.option,Bt.incorrectOption],o=[Bt.optionText,Bt.incorrectOptionText],a="close-circle",i="#F44336"):t&&(r=[Bt.option,Bt.selectedOption],o=[Bt.optionText,Bt.selectedOptionText],a="radio-button-on",i="#4c669f"),(0,F.jsxs)(N.default,{style:r,onPress:function(){return t=e.id,void(z||k(t));var t},disabled:z,activeOpacity:.8,children:[(0,F.jsx)(T.default,{name:a,size:At(24),color:i,style:Bt.optionIcon}),(0,F.jsxs)(u.default,{style:o,children:[e.id,". ",e.text]})]},e.id)};return v?(0,F.jsxs)(f.default,{style:Bt.loadingContainer,children:[(0,F.jsx)(l.default,{size:"large",color:"#4c669f"}),(0,F.jsx)(u.default,{style:Bt.loadingText,children:"\u52a0\u8f7d\u9898\u76ee\u4e2d..."})]}):m?(0,F.jsxs)(P.default,{style:Bt.container,children:[(0,F.jsx)(c.default,{barStyle:"light-content",backgroundColor:"#4c669f"}),(0,F.jsx)(ue.LinearGradient,{colors:["#4c669f","#3b5998","#192f6a"],style:Bt.headerGradient,children:(0,F.jsxs)(f.default,{style:Bt.header,children:[(0,F.jsxs)(f.default,{style:Bt.headerTop,children:[(0,F.jsx)(N.default,{onPress:function(){return n.goBack()},style:Bt.backBtn,children:(0,F.jsx)(T.default,{name:"arrow-back",size:At(22),color:"#fff"})}),(0,F.jsx)(N.default,{onPress:Y,style:Bt.favoriteButton,children:(0,F.jsx)(T.default,{name:D?"heart":"heart-outline",size:At(22),color:D?"#ff6b6b":"#fff"})})]}),(0,F.jsxs)(f.default,{style:Bt.headerInfo,children:[(0,F.jsx)(u.default,{style:Bt.categoryText,children:m.category}),(0,F.jsxs)(u.default,{style:Bt.questionIdText,children:["\u9898\u76ee #",m.id]})]})]})}),(0,F.jsxs)(ge.default,{showsVerticalScrollIndicator:!1,contentContainerStyle:Bt.scrollContent,children:[(0,F.jsx)(f.default,{style:Bt.languageSwitcherContainer,children:(0,F.jsx)(H,{currentLanguage:_,onChangeLanguage:U})}),(0,F.jsxs)(f.default,{style:Bt.questionContainer,children:[(0,F.jsx)(u.default,{style:Bt.questionText,children:m.question}),m.signalImage&&(0,F.jsx)(f.default,{style:Bt.imageContainer,children:(0,F.jsx)(q.default,{source:m.signalImage,style:Bt.questionImage,resizeMode:"contain"})})]}),(0,F.jsx)(f.default,{style:Bt.optionsContainer,children:m.options.map((function(e){return Z(e)}))}),z&&(0,F.jsxs)(f.default,{style:Bt.resultContainer,children:[(0,F.jsxs)(f.default,{style:[Bt.resultBanner,W?Bt.correctBanner:Bt.incorrectBanner],children:[(0,F.jsx)(T.default,{name:W?"checkmark-circle":"close-circle",size:At(24),color:"#fff",style:Bt.resultIcon}),(0,F.jsx)(u.default,{style:Bt.resultText,children:W?"\u56de\u7b54\u6b63\u786e\uff01":"\u56de\u7b54\u9519\u8bef\uff01"})]}),(0,F.jsxs)(f.default,{style:Bt.explanationContainer,children:[(0,F.jsxs)(f.default,{style:Bt.explanationHeader,children:[(0,F.jsx)(T.default,{name:"information-circle",size:At(20),color:"#F57C00"}),(0,F.jsx)(u.default,{style:Bt.explanationTitle,children:"\u89e3\u6790"})]}),(0,F.jsx)(u.default,{style:Bt.explanationText,children:m.explanation})]})]}),(0,F.jsx)(f.default,{style:Bt.buttonContainer,children:z?(0,F.jsxs)(N.default,{style:[Bt.button,Bt.nextButton],onPress:function(){n.goBack()},activeOpacity:.7,children:[(0,F.jsx)(u.default,{style:Bt.buttonText,children:"\u4e0b\u4e00\u9898"}),(0,F.jsx)(T.default,{name:"arrow-forward",size:At(18),color:"#fff"})]}):(0,F.jsx)(N.default,{style:[Bt.button,!S&&Bt.buttonDisabled],onPress:function(){if(S){O(!0);var e=S===m.correctAnswer;V(e),e||Ee(a,S)}},disabled:!S,activeOpacity:.7,children:(0,F.jsx)(u.default,{style:Bt.buttonText,children:"\u63d0\u4ea4\u7b54\u6848"})})})]})]}):(0,F.jsxs)(f.default,{style:Bt.errorContainer,children:[(0,F.jsx)(T.default,{name:"alert-circle-outline",size:At(60),color:"#F44336"}),(0,F.jsx)(u.default,{style:Bt.errorText,children:"\u9898\u76ee\u52a0\u8f7d\u5931\u8d25"}),(0,F.jsx)(N.default,{style:Bt.backButton,onPress:function(){return n.goBack()},children:(0,F.jsx)(u.default,{style:Bt.backButtonText,children:"\u8fd4\u56de\u4e0a\u4e00\u9875"})})]})};function qt(e){var t=e.route,n=e.navigation,r=t.params,a=r.results,i=r.examType,l=r.timeSpent,c=(0,s.useState)(!1),d=(0,o.default)(c,2),g=d[0],p=d[1],m=(0,s.useState)(0),h=(0,o.default)(m,2),x=h[0],y=h[1],b=(0,s.useState)(0),v=(0,o.default)(b,2),j=(v[0],v[1]);(0,s.useEffect)((function(){if(a){var e=a.filter((function(e){return e.isCorrect})).length,t=a.length,n=Math.round(e/t*100);y(n),j(e/t),p(n>=80),De({questionsAnswered:t,correctCount:e,examType:i||"unknown"}).catch((function(e){console.error("Failed to record study progress:",e)}))}}),[a,i]);return(0,F.jsx)(rt.SafeAreaView,{style:Pt.container,children:(0,F.jsxs)(ge.default,{showsVerticalScrollIndicator:!1,children:[(0,F.jsxs)(f.default,{style:Pt.header,children:[(0,F.jsx)(u.default,{style:Pt.title,children:"\u8003\u8bd5\u7ed3\u679c"}),(0,F.jsx)(u.default,{style:Pt.subtitle,children:"full"===i?"\u5b8c\u6574\u6a21\u62df\u8003\u8bd5":"practice"===i?"\u7ec3\u4e60\u6a21\u5f0f":"\u5feb\u901f\u6d4b\u8bd5"})]}),(0,F.jsxs)(f.default,{style:Pt.scoreCircleContainer,children:[(0,F.jsxs)(f.default,{style:[Pt.scoreCircle,{borderColor:g?"#4CAF50":"#F44336"}],children:[(0,F.jsxs)(u.default,{style:[Pt.scoreText,{color:g?"#4CAF50":"#F44336"}],children:[x,"%"]}),(0,F.jsxs)(u.default,{style:Pt.scoreSubtext,children:[a.filter((function(e){return e.isCorrect})).length," / ",a.length," \u9898\u6b63\u786e"]})]}),(0,F.jsx)(u.default,{style:[Pt.resultText,{color:g?"#4CAF50":"#F44336"}],children:g?"\u606d\u559c\uff0c\u8003\u8bd5\u901a\u8fc7\uff01":"\u5f88\u9057\u61be\uff0c\u8003\u8bd5\u672a\u901a\u8fc7"})]}),(0,F.jsxs)(f.default,{style:Pt.statsContainer,children:[(0,F.jsxs)(f.default,{style:Pt.statItem,children:[(0,F.jsx)(T.default,{name:"time-outline",size:22,color:"#666"}),(0,F.jsx)(u.default,{style:Pt.statLabel,children:"\u7528\u65f6"}),(0,F.jsxs)(u.default,{style:Pt.statValue,children:[Math.floor(l/60),"\u5206",l%60,"\u79d2"]})]}),(0,F.jsxs)(f.default,{style:Pt.statItem,children:[(0,F.jsx)(T.default,{name:"checkmark-circle-outline",size:22,color:"#666"}),(0,F.jsx)(u.default,{style:Pt.statLabel,children:"\u6b63\u786e"}),(0,F.jsx)(u.default,{style:Pt.statValue,children:a.filter((function(e){return e.isCorrect})).length})]}),(0,F.jsxs)(f.default,{style:Pt.statItem,children:[(0,F.jsx)(T.default,{name:"close-circle-outline",size:22,color:"#666"}),(0,F.jsx)(u.default,{style:Pt.statLabel,children:"\u9519\u8bef"}),(0,F.jsx)(u.default,{style:Pt.statValue,children:a.filter((function(e){return!e.isCorrect})).length})]})]}),(0,F.jsxs)(f.default,{style:Pt.resultsContainer,children:[(0,F.jsx)(u.default,{style:Pt.sectionTitle,children:"\u9898\u76ee\u8be6\u60c5"}),(0,F.jsx)(D.default,{data:a,renderItem:function(e){var t=e.item,r=e.index;return(0,F.jsxs)(N.default,{style:Pt.questionItem,onPress:function(){return n.navigate("QuestionDetail",{questionId:t.questionId})},children:[(0,F.jsxs)(f.default,{style:Pt.questionHeader,children:[(0,F.jsxs)(u.default,{style:Pt.questionNumber,children:["\u9898\u76ee #",r+1]}),t.isCorrect?(0,F.jsxs)(f.default,{style:Pt.correctBadge,children:[(0,F.jsx)(T.default,{name:"checkmark",size:16,color:"#fff"}),(0,F.jsx)(u.default,{style:Pt.badgeText,children:"\u6b63\u786e"})]}):(0,F.jsxs)(f.default,{style:Pt.incorrectBadge,children:[(0,F.jsx)(T.default,{name:"close",size:16,color:"#fff"}),(0,F.jsx)(u.default,{style:Pt.badgeText,children:"\u9519\u8bef"})]})]}),(0,F.jsx)(u.default,{style:Pt.questionText,numberOfLines:2,children:t.question}),(0,F.jsxs)(f.default,{style:Pt.answerInfo,children:[(0,F.jsxs)(u.default,{style:Pt.answerLabel,children:["\u60a8\u7684\u56de\u7b54: ",(0,F.jsx)(u.default,{style:t.isCorrect?Pt.correctText:Pt.incorrectText,children:t.selectedOption})]}),!t.isCorrect&&(0,F.jsxs)(u.default,{style:Pt.answerLabel,children:["\u6b63\u786e\u7b54\u6848: ",(0,F.jsx)(u.default,{style:Pt.correctText,children:t.correctOption})]})]})]})},keyExtractor:function(e,t){return t.toString()},scrollEnabled:!1})]}),(0,F.jsxs)(f.default,{style:Pt.buttonContainer,children:[g?(0,F.jsxs)(N.default,{style:Pt.button,onPress:function(){n.navigate("Main")},children:[(0,F.jsx)(T.default,{name:"home",size:20,color:"#fff",style:Pt.buttonIcon}),(0,F.jsx)(u.default,{style:Pt.buttonText,children:"\u8fd4\u56de\u9996\u9875"})]}):(0,F.jsxs)(N.default,{style:Pt.button,onPress:function(){n.navigate("Exam")},children:[(0,F.jsx)(T.default,{name:"reload",size:20,color:"#fff",style:Pt.buttonIcon}),(0,F.jsx)(u.default,{style:Pt.buttonText,children:"\u91cd\u65b0\u8003\u8bd5"})]}),a.filter((function(e){return!e.isCorrect})).length>0&&(0,F.jsxs)(N.default,{style:[Pt.button,Pt.secondaryButton],onPress:function(){n.navigate("Mistakes")},children:[(0,F.jsx)(T.default,{name:"list",size:20,color:"#0066cc",style:Pt.buttonIcon}),(0,F.jsx)(u.default,{style:Pt.secondaryButtonText,children:"\u67e5\u770b\u9519\u9898"})]})]})]})})}var Pt=d.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},header:{padding:20},title:{fontSize:28,fontWeight:"bold",color:"#0066cc",marginBottom:5},subtitle:{fontSize:16,color:"#666"},scoreCircleContainer:{alignItems:"center",marginTop:10,marginBottom:20},scoreCircle:{width:150,height:150,borderRadius:75,borderWidth:8,justifyContent:"center",alignItems:"center",marginBottom:15},scoreText:{fontSize:36,fontWeight:"bold"},scoreSubtext:{fontSize:14,color:"#666"},resultText:{fontSize:22,fontWeight:"bold"},statsContainer:{flexDirection:"row",backgroundColor:"#fff",borderRadius:10,padding:20,marginHorizontal:20,justifyContent:"space-between",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:3,elevation:3},statItem:{alignItems:"center"},statLabel:{fontSize:14,color:"#666",marginVertical:4},statValue:{fontSize:16,fontWeight:"bold"},sectionTitle:{fontSize:18,fontWeight:"bold",marginBottom:15,marginHorizontal:20,marginTop:25},resultsContainer:{marginBottom:20},questionItem:{backgroundColor:"#fff",borderRadius:10,marginHorizontal:20,marginBottom:15,padding:15,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2,elevation:2},questionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},questionNumber:{fontSize:14,color:"#666"},correctBadge:{flexDirection:"row",backgroundColor:"#4CAF50",borderRadius:12,paddingHorizontal:8,paddingVertical:2,alignItems:"center"},incorrectBadge:{flexDirection:"row",backgroundColor:"#F44336",borderRadius:12,paddingHorizontal:8,paddingVertical:2,alignItems:"center"},badgeText:{color:"#fff",fontSize:12,marginLeft:2},questionText:{fontSize:16,color:"#333",marginBottom:10},answerInfo:{borderTopWidth:1,borderTopColor:"#eee",paddingTop:10},answerLabel:{fontSize:14,color:"#666",marginBottom:3},correctText:{color:"#4CAF50",fontWeight:"500"},incorrectText:{color:"#F44336",fontWeight:"500"},buttonContainer:{padding:20,paddingTop:10},button:{backgroundColor:"#0066cc",borderRadius:10,paddingVertical:15,flexDirection:"row",justifyContent:"center",alignItems:"center",marginBottom:15,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:3,elevation:3},secondaryButton:{backgroundColor:"#fff",borderColor:"#0066cc",borderWidth:1},buttonIcon:{marginRight:8},buttonText:{color:"#fff",fontSize:16,fontWeight:"bold"},secondaryButtonText:{color:"#0066cc",fontSize:16,fontWeight:"bold"}}),Rt=(n(9632),n(4037)),Nt=function(){var e=(0,r.default)((function*(){try{console.log("\u5f00\u59cb\u4fee\u590d\u6536\u85cf\u6570\u636e...");var e=yield p.default.getItem("favorites"),t=e?JSON.parse(e):[];console.log("\u73b0\u6709\u6536\u85cf\u6570\u91cf:",t.length);var n=yield X.loadAllQuestionSets();console.log("\u9898\u76ee\u603b\u6570:",n.length);var r=[],o=0,a=function*(){var e=i.questionId||i.id;if(!e)return 1;var t=n.find((function(t){return t.id&&t.id.toString()===e.toString()}));t&&(r.push({id:`fav_${t.id}_${Date.now()}`,questionId:t.id.toString(),dateAdded:i.dateAdded||Date.now(),timestamp:Date.now()}),o++)};for(var i of t)yield*a();return yield p.default.setItem("favorites",JSON.stringify(r)),console.log(`\u6536\u85cf\u6570\u636e\u4fee\u590d\u5b8c\u6210\uff0c\u6210\u529f\u6062\u590d ${o} \u4e2a\u6536\u85cf`),{success:!0,message:`\u6210\u529f\u4fee\u590d ${o} \u4e2a\u6536\u85cf\u6570\u636e`}}catch(s){return console.error("\u4fee\u590d\u6536\u85cf\u6570\u636e\u5931\u8d25:",s),{success:!1,message:s.message}}}));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=(0,r.default)((function*(){try{return console.log("\u5c1d\u8bd5\u5f3a\u5236\u6e05\u7a7a\u9519\u9898\u6570\u636e..."),yield p.default.setItem("mistakes",JSON.stringify([])),{success:!0,message:"\u6210\u529f\u6e05\u7a7a\u9519\u9898\u6570\u636e"}}catch(e){return console.error("\u6e05\u7a7a\u9519\u9898\u6570\u636e\u5931\u8d25:",e),{success:!1,message:e.message}}}));return function(){return e.apply(this,arguments)}}(),Lt=function(){var e=(0,r.default)((function*(){try{var e=[],t=yield Nt();e.push("\u6536\u85cf\u529f\u80fd: "+(t.success?"\u5df2\u4fee\u590d":"\u4fee\u590d\u5931\u8d25"));var n=yield Ft();return e.push("\u9519\u9898\u672c: "+(n.success?"\u5df2\u4fee\u590d":"\u4fee\u590d\u5931\u8d25")),yield p.default.setItem("studyProgress",JSON.stringify([])),e.push("\u5b66\u4e60\u8fdb\u5ea6: \u5df2\u91cd\u7f6e"),console.log("\u6240\u6709\u95ee\u9898\u4fee\u590d\u5b8c\u6210:",e),A.default.alert("\u4fee\u590d\u5b8c\u6210",e.join("\n"),[{text:"\u786e\u5b9a",style:"default"}]),!0}catch(r){return console.error("\u4fee\u590d\u95ee\u9898\u5931\u8d25:",r),A.default.alert("\u4fee\u590d\u5931\u8d25","\u4fee\u590d\u5e94\u7528\u95ee\u9898\u65f6\u51fa\u9519: "+r.message,[{text:"\u786e\u5b9a",style:"default"}]),!1}}));return function(){return e.apply(this,arguments)}}(),Ht=n(8794),Mt=n(9190),Wt=function(){var e=(0,r.default)((function*(){try{return console.log("\u5f00\u59cb\u5c1d\u8bd5\u4fee\u590dJSON\u9519\u8bef..."),"web"===fe.default.OS?(yield p.default.setItem("useFixedJson","true"),console.log("\u5df2\u8bbe\u7f6eWeb\u73af\u5883\u4f18\u5148\u4f7f\u7528fixed\u7248\u672c\u7684JSON"),!0):(yield Vt())?(A.default.alert("\u4fee\u590d\u5b8c\u6210","\u5df2\u6210\u529f\u4fee\u590dJSON\u6587\u4ef6\u683c\u5f0f\u95ee\u9898\uff0c\u5e94\u7528\u5c06\u6b63\u5e38\u52a0\u8f7d\u6240\u6709\u9898\u76ee\u3002"),!0):(A.default.alert("\u4fee\u590d\u5931\u8d25","\u65e0\u6cd5\u627e\u5230\u4fee\u590d\u540e\u7684JSON\u6587\u4ef6\u6216\u590d\u5236\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9519\u8bef\u3002"),!1)}catch(e){return console.error("\u4fee\u590dJSON\u9519\u8bef\u5931\u8d25:",e),A.default.alert("\u4fee\u590d\u9519\u8bef",`\u5c1d\u8bd5\u4fee\u590dJSON\u6587\u4ef6\u65f6\u51fa\u9519: ${e.message}`),!1}}));return function(){return e.apply(this,arguments)}}(),Vt=function(){var e=(0,r.default)((function*(){try{if(!Ht)return console.log("FileSystem API\u4e0d\u53ef\u7528"),!1;var e=Mt.documentDirectory+"assets/data/";yield Mt.makeDirectoryAsync(e,{intermediates:!0}).catch((function(){}));for(var t=[],n=0;n<=5;n++){var r=`setofquestions${n}_fixed.json`,o=`${e}${r}`;try{(yield Mt.getInfoAsync(o)).exists&&t.push({setNumber:n,path:o})}catch(l){console.log(`\u68c0\u67e5\u4fee\u590d\u6587\u4ef6 ${r} \u65f6\u51fa\u9519:`,l)}}if(console.log(`\u627e\u5230 ${t.length} \u4e2a\u4fee\u590d\u540e\u7684\u6587\u4ef6`),0===t.length)return!1;for(var a of t){var i=`${e}setofquestions${a.setNumber}.json`,s=`${e}setofquestions${a.setNumber}_backup.json`;try{yield Mt.copyAsync({from:i,to:s}),console.log(`\u5df2\u5907\u4efd\u539f\u59cb\u6587\u4ef6: ${i} -> ${s}`)}catch(l){console.log(`\u5907\u4efd\u6587\u4ef6 ${i} \u65f6\u51fa\u9519:`,l)}try{yield Mt.copyAsync({from:a.path,to:i}),console.log(`\u5df2\u590d\u5236\u4fee\u590d\u6587\u4ef6: ${a.path} -> ${i}`)}catch(l){console.error(`\u590d\u5236\u4fee\u590d\u6587\u4ef6\u5230 ${i} \u65f6\u51fa\u9519:`,l)}}return!0}catch(c){return console.error("\u68c0\u67e5\u548c\u590d\u5236\u4fee\u590d\u6587\u4ef6\u65f6\u51fa\u9519:",c),!1}}));return function(){return e.apply(this,arguments)}}(),$t=function(){var e=(0,r.default)((function*(){try{console.log("\u5f00\u59cb\u8fd0\u884c\u6240\u6709\u4fee\u590d...");var e=yield Wt();return console.log("JSON\u4fee\u590d\u7ed3\u679c:",e),e}catch(t){return console.error("\u6267\u884c\u4fee\u590d\u65f6\u51fa\u9519:",t),!1}}));return function(){return e.apply(this,arguments)}}();var Qt=[{code:"zh",name:"\u4e2d\u6587",flag:"\ud83c\udde8\ud83c\uddf3"},{code:"en",name:"English",flag:"\ud83c\uddec\ud83c\udde7"},{code:"cs",name:"\u010ce\u0161tina",flag:"\ud83c\udde8\ud83c\uddff"},{code:"es",name:"Espa\xf1ol",flag:"\ud83c\uddea\ud83c\uddf8"}],_t=d.default.create({container:{flex:1,backgroundColor:"#f8f9fa"},scrollContainer:{paddingBottom:32},header:{padding:16,borderBottomWidth:1,borderBottomColor:"#f0f0f0",backgroundColor:"#fff"},title:{fontSize:24,fontWeight:"bold",color:"#2196F3"},section:{backgroundColor:"#fff",marginTop:20,borderTopWidth:1,borderBottomWidth:1,borderColor:"#f0f0f0"},sectionTitle:{fontSize:16,fontWeight:"bold",color:"#333",margin:16},sectionContent:{borderTopWidth:1,borderTopColor:"#f0f0f0"},settingOption:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,borderBottomWidth:1,borderBottomColor:"#f0f0f0"},selectedOption:{backgroundColor:"#E3F2FD"},optionText:{fontSize:16,color:"#333"},infoRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,borderBottomWidth:1,borderBottomColor:"#f0f0f0"},infoLabel:{fontSize:16,color:"#333"},infoValue:{fontSize:16,color:"#757575"},dangerSection:{padding:16,marginTop:20,alignItems:"center"},dangerButton:{backgroundColor:"#F44336",paddingVertical:12,paddingHorizontal:24,borderRadius:8},dangerButtonText:{color:"#fff",fontSize:16,fontWeight:"500"},languageInfo:{flexDirection:"row",alignItems:"center"},languageFlag:{fontSize:22,marginRight:15},languageName:{fontSize:16,color:"#333"},settingItem:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:15,borderBottomWidth:1,borderBottomColor:"#f0f0f0"},settingInfo:{flexDirection:"row",alignItems:"center"},settingIcon:{marginRight:15},settingTitle:{fontSize:16,color:"#333"},settingDescription:{fontSize:14,color:"#999",marginTop:3},versionInfo:{alignItems:"center",paddingVertical:20},versionText:{fontSize:14,color:"#999"}});const Jt=function(e){e.navigation;var t=(0,h.useTranslation)(),n=t.t,a=t.i18n,i=(0,s.useState)(a.language),l=(0,o.default)(i,2),c=l[0],d=l[1],g=(0,s.useState)(!1),m=(0,o.default)(g,2),x=m[0],y=m[1],b=(0,s.useState)(!1),v=(0,o.default)(b,2),j=v[0],w=v[1];(0,s.useEffect)((function(){var e=function(){var e=(0,r.default)((function*(){try{var e=yield p.default.getItem("user-language");e&&d(e)}catch(t){console.error("Error loading language settings:",t)}}));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,s.useEffect)((function(){var e=function(){var e=(0,r.default)((function*(){try{var e=yield p.default.getItem("notificationsEnabled");y("true"===e);var t=yield p.default.getItem("darkModeEnabled");w("true"===t)}catch(n){console.error("Failed to load settings",n)}}));return function(){return e.apply(this,arguments)}}();e()}),[]);var C=function(){var e=(0,r.default)((function*(e){try{yield p.default.setItem("user-language",e),a.changeLanguage(e),d(e),A.default.alert("\u8bed\u8a00\u5df2\u66f4\u6539","\u8bf7\u91cd\u542f\u5e94\u7528\u4ee5\u5b8c\u6210\u8bed\u8a00\u5207\u6362",[{text:"\u786e\u5b9a",style:"default"}])}catch(t){console.error("Error saving language setting:",t)}}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,r.default)((function*(e){try{yield p.default.setItem("notificationsEnabled",e.toString()),y(e),e?A.default.alert("\u901a\u77e5\u5df2\u542f\u7528","\u4f60\u5c06\u4f1a\u6536\u5230\u6bcf\u65e5\u5b66\u4e60\u63d0\u9192"):A.default.alert("\u901a\u77e5\u5df2\u7981\u7528","\u4f60\u5c06\u4e0d\u4f1a\u6536\u5230\u5b66\u4e60\u63d0\u9192")}catch(t){console.error("Failed to save notification setting",t)}}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,r.default)((function*(e){try{yield p.default.setItem("darkModeEnabled",e.toString()),w(e),A.default.alert(e?"\u6697\u9ed1\u6a21\u5f0f\u5df2\u542f\u7528":"\u6697\u9ed1\u6a21\u5f0f\u5df2\u7981\u7528",e?"\u754c\u9762\u5c06\u5207\u6362\u4e3a\u6697\u8272\u4e3b\u9898\uff0c\u91cd\u542f\u5e94\u7528\u540e\u751f\u6548":"\u754c\u9762\u5c06\u5207\u6362\u4e3a\u4eae\u8272\u4e3b\u9898\uff0c\u91cd\u542f\u5e94\u7528\u540e\u751f\u6548")}catch(t){console.error("Failed to save dark mode setting",t)}}));return function(t){return e.apply(this,arguments)}}();(function(){var e=(0,r.default)((function*(){try{yield p.default.setItem("favorites",JSON.stringify([])),A.default.alert("\u6536\u85cf\u5df2\u6e05\u7a7a","\u6240\u6709\u6536\u85cf\u8bb0\u5f55\u5df2\u88ab\u6e05\u9664")}catch(e){console.error("Failed to clear favorites:",e),A.default.alert("\u64cd\u4f5c\u5931\u8d25","\u6e05\u7a7a\u6536\u85cf\u8bb0\u5f55\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")}}))})(),function(){var e=(0,r.default)((function*(){try{yield Ae(),A.default.alert("\u9519\u9898\u5df2\u6e05\u7a7a","\u6240\u6709\u9519\u9898\u8bb0\u5f55\u5df2\u88ab\u6e05\u9664")}catch(e){console.error("Failed to clear mistakes:",e),A.default.alert("\u64cd\u4f5c\u5931\u8d25","\u6e05\u7a7a\u9519\u9898\u8bb0\u5f55\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")}}))}(),function(){var e=(0,r.default)((function*(){try{yield Ne(),yield Pe(),A.default.alert("\u8003\u8bd5\u8bb0\u5f55\u5df2\u6e05\u7a7a","\u6240\u6709\u8003\u8bd5\u5386\u53f2\u548c\u5b66\u4e60\u8fdb\u5ea6\u5df2\u88ab\u6e05\u9664")}catch(e){console.error("Failed to clear exam history:",e),A.default.alert("\u64cd\u4f5c\u5931\u8d25","\u6e05\u7a7a\u8003\u8bd5\u8bb0\u5f55\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")}}))}();return(0,F.jsx)(P.default,{style:_t.container,children:(0,F.jsxs)(ge.default,{contentContainerStyle:_t.scrollContainer,children:[(0,F.jsx)(f.default,{style:_t.header,children:(0,F.jsx)(u.default,{style:_t.title,children:n("settings.title")})}),(0,F.jsxs)(f.default,{style:_t.section,children:[(0,F.jsx)(u.default,{style:_t.sectionTitle,children:n("settings.language")}),(0,F.jsx)(f.default,{style:_t.sectionContent,children:Qt.map((function(e){return function(e){var t=c===e.code;return(0,F.jsxs)(N.default,{style:[_t.settingOption,t&&_t.selectedOption],onPress:function(){return C(e.code)},children:[(0,F.jsxs)(f.default,{style:_t.languageInfo,children:[(0,F.jsx)(u.default,{style:_t.languageFlag,children:e.flag}),(0,F.jsx)(u.default,{style:_t.languageName,children:e.name})]}),t&&(0,F.jsx)(T.default,{name:"checkmark-circle",size:24,color:"#2196F3"})]},e.code)}(e)}))})]}),(0,F.jsxs)(f.default,{style:_t.section,children:[(0,F.jsx)(u.default,{style:_t.sectionTitle,children:"\u5e94\u7528\u8bbe\u7f6e"}),(0,F.jsxs)(f.default,{style:_t.sectionContent,children:[(0,F.jsxs)(f.default,{style:_t.settingItem,children:[(0,F.jsxs)(f.default,{style:_t.settingInfo,children:[(0,F.jsx)(T.default,{name:"notifications-outline",size:24,color:"#555",style:_t.settingIcon}),(0,F.jsxs)(f.default,{children:[(0,F.jsx)(u.default,{style:_t.settingTitle,children:"\u6bcf\u65e5\u63d0\u9192"}),(0,F.jsx)(u.default,{style:_t.settingDescription,children:"\u63a5\u6536\u6bcf\u65e5\u5b66\u4e60\u63d0\u9192"})]})]}),(0,F.jsx)(Rt.default,{value:x,onValueChange:S,trackColor:{false:"#d9d9d9",true:"#4CAF50"},thumbColor:x?"#fff":"#f4f3f4"})]}),(0,F.jsxs)(f.default,{style:_t.settingItem,children:[(0,F.jsxs)(f.default,{style:_t.settingInfo,children:[(0,F.jsx)(T.default,{name:"moon-outline",size:24,color:"#555",style:_t.settingIcon}),(0,F.jsxs)(f.default,{children:[(0,F.jsx)(u.default,{style:_t.settingTitle,children:"\u6697\u9ed1\u6a21\u5f0f"}),(0,F.jsx)(u.default,{style:_t.settingDescription,children:"\u4f7f\u7528\u591c\u95f4\u6a21\u5f0f\u4fdd\u62a4\u773c\u775b"})]})]}),(0,F.jsx)(Rt.default,{value:j,onValueChange:k,trackColor:{false:"#d9d9d9",true:"#0066cc"},thumbColor:j?"#fff":"#f4f3f4"})]})]})]}),(0,F.jsxs)(f.default,{style:_t.section,children:[(0,F.jsx)(u.default,{style:_t.sectionTitle,children:"\u5173\u4e8e"}),(0,F.jsxs)(f.default,{style:_t.sectionContent,children:[(0,F.jsxs)(N.default,{style:_t.optionItem,children:[(0,F.jsxs)(f.default,{style:_t.settingInfo,children:[(0,F.jsx)(T.default,{name:"information-circle-outline",size:24,color:"#555",style:_t.settingIcon}),(0,F.jsx)(u.default,{style:_t.settingTitle,children:"\u5e94\u7528\u4fe1\u606f"})]}),(0,F.jsx)(T.default,{name:"chevron-forward",size:20,color:"#ccc"})]}),(0,F.jsxs)(N.default,{style:_t.optionItem,children:[(0,F.jsxs)(f.default,{style:_t.settingInfo,children:[(0,F.jsx)(T.default,{name:"star-outline",size:24,color:"#555",style:_t.settingIcon}),(0,F.jsx)(u.default,{style:_t.settingTitle,children:"\u8bc4\u5206\u5e94\u7528"})]}),(0,F.jsx)(T.default,{name:"chevron-forward",size:20,color:"#ccc"})]}),(0,F.jsxs)(N.default,{style:_t.optionItem,children:[(0,F.jsxs)(f.default,{style:_t.settingInfo,children:[(0,F.jsx)(T.default,{name:"lock-closed-outline",size:24,color:"#555",style:_t.settingIcon}),(0,F.jsx)(u.default,{style:_t.settingTitle,children:"\u9690\u79c1\u653f\u7b56"})]}),(0,F.jsx)(T.default,{name:"chevron-forward",size:20,color:"#ccc"})]}),(0,F.jsx)(f.default,{style:_t.versionInfo,children:(0,F.jsx)(u.default,{style:_t.versionText,children:"\u6377\u514b\u9a7e\u8003\u5b9d\u5178 v1.0.0"})})]})]}),(0,F.jsxs)(f.default,{style:_t.section,children:[(0,F.jsx)(u.default,{style:_t.sectionTitle,children:"\u5f00\u53d1\u8005\u9009\u9879"}),(0,F.jsx)(f.default,{style:_t.sectionContent,children:(0,F.jsxs)(N.default,{style:_t.optionItem,onPress:function(){A.default.alert("\u5e94\u7528\u4fee\u590d","\u6b64\u529f\u80fd\u5c06\u5c1d\u8bd5\u4fee\u590d\u5e94\u7528\u4e2d\u7684\u5df2\u77e5\u95ee\u9898\uff0c\u5305\u62ec\u6536\u85cf\u3001\u9519\u9898\u548cJSON\u6570\u636e\u7b49\u3002\u662f\u5426\u7ee7\u7eed\uff1f",[{text:"\u53d6\u6d88",style:"cancel"},{text:"\u786e\u5b9a",style:"default",onPress:function(){var e=(0,r.default)((function*(){try{yield Promise.all([Lt(),$t()]),A.default.alert("\u4fee\u590d\u5b8c\u6210","\u5e94\u7528\u5df2\u5b8c\u6210\u6240\u6709\u53ef\u80fd\u7684\u4fee\u590d\uff0c\u5efa\u8bae\u91cd\u542f\u5e94\u7528\u4ee5\u786e\u4fdd\u6240\u6709\u66f4\u6539\u751f\u6548\u3002")}catch(e){console.error("\u4fee\u590d\u5e94\u7528\u65f6\u51fa\u9519:",e),A.default.alert("\u4fee\u590d\u5931\u8d25",`\u4fee\u590d\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9519\u8bef: ${e.message}`)}}));return function(){return e.apply(this,arguments)}}()}])},children:[(0,F.jsxs)(f.default,{style:_t.settingInfo,children:[(0,F.jsx)(T.default,{name:"construct-outline",size:24,color:"#555",style:_t.settingIcon}),(0,F.jsx)(u.default,{style:_t.settingTitle,children:"\u4fee\u590d\u5e94\u7528\u95ee\u9898"})]}),(0,F.jsx)(T.default,{name:"chevron-forward",size:20,color:"#ccc"})]})})]}),(0,F.jsx)(f.default,{style:_t.dangerSection,children:(0,F.jsx)(N.default,{style:_t.dangerButton,onPress:function(){A.default.alert(n("settings.resetData"),n("settings.resetConfirm"),[{text:n("common.cancel"),style:"cancel"},{text:n("common.confirm"),style:"destructive",onPress:function(){var e=(0,r.default)((function*(){try{yield Be(),yield Pe(),yield Ne(),A.default.alert(n("common.success"),"\u5e94\u7528\u6570\u636e\u5df2\u91cd\u7f6e\uff0c\u91cd\u542f\u5e94\u7528\u540e\u751f\u6548")}catch(e){console.error("Error resetting data:",e),A.default.alert(n("common.error"),e.message)}}));return function(){return e.apply(this,arguments)}}()}])},children:(0,F.jsx)(u.default,{style:_t.dangerButtonText,children:n("settings.resetData")})})})]})})};var Ut=n(8982),Gt=B.default.get("window").width-40,Xt=function(e){var t=e.progressHistory,n=void 0===t?[]:t,r=(0,h.useTranslation)().t,o=n.filter((function(e){return e&&"number"===typeof e.accuracy}));if(o.length<1)return(0,F.jsxs)(f.default,{style:Zt.noDataContainer,children:[(0,F.jsx)(u.default,{style:Zt.noDataText,children:r("progress.notEnoughData")}),(0,F.jsx)(u.default,{style:Zt.noDataSubtext,children:"\u81f3\u5c11\u9700\u89812\u6b21\u8003\u8bd5\u8bb0\u5f55\u624d\u80fd\u663e\u793a\u8d8b\u52bf\u56fe"})]});var a=o.slice(0,7).reverse(),i=a.map((function(e,t){return`#${t+1}`})),s=a.map((function(e){return void 0===e.accuracy||null===e.accuracy||isNaN(e.accuracy)?0:Math.round(100*e.accuracy)}));1===s.length&&(i.push("#2"),s.push(s[0]));var l={labels:i,datasets:[{data:s,color:function(){return`rgba(0, 102, 204, ${arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})`},strokeWidth:2}],legend:[r("progress.accuracy")]},c={backgroundColor:"#ffffff",backgroundGradientFrom:"#ffffff",backgroundGradientTo:"#ffffff",decimalPlaces:0,color:function(){return`rgba(0, 102, 204, ${arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})`},labelColor:function(){return`rgba(0, 0, 0, ${arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})`},style:{borderRadius:16},propsForDots:{r:"6",strokeWidth:"2",stroke:"#0066cc"}};return(0,F.jsxs)(f.default,{style:Zt.chartContainer,children:[(0,F.jsx)(u.default,{style:Zt.chartTitle,children:r("progress.accuracyTrend")}),(0,F.jsx)(Ut.LineChart,{data:l,width:Gt,height:220,chartConfig:c,bezier:!0,style:Zt.chart,yAxisSuffix:"%"})]})},Yt=function(e){var t=e.progressHistory,n=void 0===t?[]:t,r=(0,h.useTranslation)().t,o=n.filter((function(e){return e&&"number"===typeof e.questionsAnswered}));if(0===o.length)return(0,F.jsxs)(f.default,{style:Zt.noDataContainer,children:[(0,F.jsx)(u.default,{style:Zt.noDataText,children:r("progress.noData")}),(0,F.jsx)(u.default,{style:Zt.noDataSubtext,children:"\u5b8c\u6210\u8003\u8bd5\u540e\u4f1a\u663e\u793a\u9898\u76ee\u7edf\u8ba1"})]});var a=o.slice(0,5).reverse(),i={labels:a.map((function(e,t){return`#${t+1}`})),datasets:[{data:a.map((function(e){var t=e.questionsAnswered;return void 0===t||isNaN(t)?0:t})),color:function(){return`rgba(31, 97, 141, ${arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})`}},{data:a.map((function(e){var t=e.correctCount;return void 0===t||isNaN(t)?0:t})),color:function(){return`rgba(46, 204, 113, ${arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})`}}],legend:[r("progress.totalQuestions"),r("progress.correct")]},s={backgroundColor:"#ffffff",backgroundGradientFrom:"#ffffff",backgroundGradientTo:"#ffffff",decimalPlaces:0,color:function(){return`rgba(0, 0, 0, ${arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})`},labelColor:function(){return`rgba(0, 0, 0, ${arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})`},style:{borderRadius:16},barPercentage:.7};return(0,F.jsxs)(f.default,{style:Zt.chartContainer,children:[(0,F.jsx)(u.default,{style:Zt.chartTitle,children:r("progress.questionStats")}),(0,F.jsx)(Ut.BarChart,{data:i,width:Gt,height:220,chartConfig:s,style:Zt.chart,fromZero:!0,showValuesOnTopOfBars:!0,withInnerLines:!1})]})},Zt=d.default.create({chartContainer:{backgroundColor:"#ffffff",borderRadius:10,padding:15,marginBottom:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:3,elevation:3},chart:{marginVertical:8,borderRadius:10},chartTitle:{fontSize:18,fontWeight:"bold",marginBottom:10},noDataContainer:{backgroundColor:"#ffffff",borderRadius:10,padding:15,marginBottom:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:3,elevation:3,height:220,justifyContent:"center",alignItems:"center"},noDataText:{color:"#666",fontSize:16,textAlign:"center",marginBottom:8},noDataSubtext:{color:"#999",fontSize:14,textAlign:"center"}});function Kt(e){var t=e.navigation,n=(0,h.useTranslation)().t,a=(0,s.useState)(!0),i=(0,o.default)(a,2),c=i[0],d=i[1],g=(0,s.useState)({totalExams:0,totalQuestions:0,totalCorrect:0,averageAccuracy:0,progressHistory:[]}),p=(0,o.default)(g,2),m=p[0],x=p[1];(0,s.useEffect)((function(){y();var e=t.addListener("focus",y);return function(){return e()}}),[t]);var y=function(){var e=(0,r.default)((function*(){d(!0);try{var e=yield qe();console.log("Loaded progress stats:",e),x(e)}catch(t){console.error("Failed to load progress data:",t)}finally{d(!1)}}));return function(){return e.apply(this,arguments)}}(),b=function(e){var t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},v=function(e){return void 0===e||null===e||isNaN(e)?"0%":`${Math.round(100*e)}%`},j=function(e){switch(e){case"full":return"#4CAF50";case"practice":return"#2196F3";case"quick":return"#FF9800";case"custom":return"#9C27B0";default:return"#757575"}},w=function(e){switch(e){case"full":return n("exam.fullExam");case"practice":return n("exam.practiceMode");case"quick":return n("exam.quickTest");case"custom":return n("exam.customExam");default:return n("exam.exam")}};return c?(0,F.jsxs)(f.default,{style:en.loadingContainer,children:[(0,F.jsx)(l.default,{size:"large",color:"#0066cc"}),(0,F.jsx)(u.default,{style:en.loadingText,children:n("common.loading")})]}):(0,F.jsx)(rt.SafeAreaView,{style:en.container,children:(0,F.jsxs)(ge.default,{children:[(0,F.jsx)(f.default,{style:en.header,children:(0,F.jsx)(u.default,{style:en.title,children:n("progress.title")})}),(0,F.jsxs)(f.default,{style:en.statsOverviewContainer,children:[(0,F.jsxs)(f.default,{style:en.statCard,children:[(0,F.jsx)(T.default,{name:"school-outline",size:24,color:"#0066cc"}),(0,F.jsx)(u.default,{style:en.statValue,children:m.totalExams}),(0,F.jsx)(u.default,{style:en.statLabel,children:n("progress.totalExams")})]}),(0,F.jsxs)(f.default,{style:en.statCard,children:[(0,F.jsx)(T.default,{name:"help-circle-outline",size:24,color:"#0066cc"}),(0,F.jsx)(u.default,{style:en.statValue,children:m.totalQuestions}),(0,F.jsx)(u.default,{style:en.statLabel,children:n("progress.totalQuestions")})]}),(0,F.jsxs)(f.default,{style:en.statCard,children:[(0,F.jsx)(T.default,{name:"checkmark-circle-outline",size:24,color:"#0066cc"}),(0,F.jsx)(u.default,{style:en.statValue,children:v(m.averageAccuracy)}),(0,F.jsx)(u.default,{style:en.statLabel,children:n("progress.averageAccuracy")})]})]}),m.progressHistory.length>0&&(0,F.jsxs)(f.default,{style:en.chartsContainer,children:[(0,F.jsx)(Xt,{progressHistory:m.progressHistory}),(0,F.jsx)(Yt,{progressHistory:m.progressHistory})]}),(0,F.jsxs)(f.default,{style:en.sectionContainer,children:[(0,F.jsxs)(f.default,{style:en.sectionHeader,children:[(0,F.jsx)(u.default,{style:en.sectionTitle,children:n("progress.recentActivity")}),m.progressHistory.length>0&&(0,F.jsx)(N.default,{onPress:function(){A.default.alert(n("settings.resetConfirm"),n("progress.clearProgressConfirm"),[{text:n("common.cancel"),style:"cancel"},{text:n("common.confirm"),style:"destructive",onPress:function(){var e=(0,r.default)((function*(){try{d(!0),yield Pe(),yield Ne(),yield y(),A.default.alert(n("common.success"),n("progress.clearProgressSuccess"))}catch(e){console.error("Failed to clear progress:",e),A.default.alert(n("common.error"),n("progress.clearProgressError"))}finally{d(!1)}}));return function(){return e.apply(this,arguments)}}()}])},children:(0,F.jsx)(u.default,{style:en.clearButton,children:n("progress.clearHistory")})})]}),0===m.progressHistory.length?(0,F.jsxs)(f.default,{style:en.emptyState,children:[(0,F.jsx)(T.default,{name:"bar-chart-outline",size:60,color:"#ccc"}),(0,F.jsx)(u.default,{style:en.emptyStateText,children:n("progress.noHistory")}),(0,F.jsx)(u.default,{style:en.emptyStateSubtext,children:n("progress.startExam")})]}):(0,F.jsx)(f.default,{style:en.historyContainer,children:m.progressHistory.map((function(e,t){var r=void 0===e.accuracy||isNaN(e.accuracy)?0:e.accuracy;return(0,F.jsxs)(f.default,{style:en.historyItem,children:[(0,F.jsxs)(f.default,{style:en.historyHeader,children:[(0,F.jsx)(u.default,{style:en.historyDate,children:b(e.date)}),(0,F.jsx)(f.default,{style:[en.examTypeBadge,{backgroundColor:j(e.examType)}],children:(0,F.jsx)(u.default,{style:en.examTypeText,children:w(e.examType)})})]}),(0,F.jsxs)(f.default,{style:en.historyStats,children:[(0,F.jsxs)(f.default,{style:en.historyStat,children:[(0,F.jsx)(u.default,{style:en.historyStatValue,children:e.questionsAnswered||0}),(0,F.jsx)(u.default,{style:en.historyStatLabel,children:n("progress.questions")})]}),(0,F.jsxs)(f.default,{style:en.historyStat,children:[(0,F.jsx)(u.default,{style:en.historyStatValue,children:e.correctCount||0}),(0,F.jsx)(u.default,{style:en.historyStatLabel,children:n("progress.correct")})]}),(0,F.jsxs)(f.default,{style:en.historyStat,children:[(0,F.jsx)(u.default,{style:en.historyStatValue,children:v(r)}),(0,F.jsx)(u.default,{style:en.historyStatLabel,children:n("progress.accuracy")})]})]})]},e.id||t)}))})]})]})})}var en=d.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},loadingText:{marginTop:10,color:"#666"},header:{padding:20},title:{fontSize:28,fontWeight:"bold",color:"#0066cc",marginBottom:5},statsOverviewContainer:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:15,marginBottom:20},statCard:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:15,alignItems:"center",marginHorizontal:5,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:3,elevation:3},statValue:{fontSize:22,fontWeight:"bold",color:"#0066cc",marginVertical:5},statLabel:{fontSize:12,color:"#666",textAlign:"center"},chartsContainer:{paddingHorizontal:20,marginBottom:15},sectionContainer:{backgroundColor:"#fff",borderRadius:10,margin:15,padding:15,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:3,elevation:3},sectionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:15},sectionTitle:{fontSize:18,fontWeight:"bold"},clearButton:{color:"#F44336",fontSize:14},emptyState:{alignItems:"center",padding:30},emptyStateText:{fontSize:16,fontWeight:"bold",marginTop:10,color:"#666"},emptyStateSubtext:{fontSize:14,color:"#999",textAlign:"center",marginTop:5},historyContainer:{marginBottom:10},historyItem:{borderBottomWidth:1,borderBottomColor:"#eee",paddingVertical:12},historyHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:8},historyDate:{fontSize:14,color:"#666"},examTypeBadge:{paddingHorizontal:8,paddingVertical:3,borderRadius:12},examTypeText:{color:"#fff",fontSize:12,fontWeight:"bold"},historyStats:{flexDirection:"row",justifyContent:"space-between"},historyStat:{flex:1,alignItems:"center"},historyStatValue:{fontSize:18,fontWeight:"bold",color:"#333"},historyStatLabel:{fontSize:12,color:"#666"}}),tn=(0,k.default)(),nn=(0,I.default)();function rn(){var e=(0,h.useTranslation)().t,t=function(t){return e(`navigation.${t.toLowerCase()}`)};return(0,F.jsxs)(tn.Navigator,{screenOptions:function(e){var t=e.route;return{tabBarIcon:function(e){var n,r=e.focused,o=e.color,a=e.size;return"Home"===t.name?n=r?"home":"home-outline":"Browse"===t.name?n=r?"list":"list-outline":"Exam"===t.name?n=r?"school":"school-outline":"Favorites"===t.name?n=r?"heart":"heart-outline":"Mistakes"===t.name?n=r?"close-circle":"close-circle-outline":"Settings"===t.name&&(n=r?"settings":"settings-outline"),(0,F.jsx)(T.default,{name:n,size:a,color:o})},tabBarActiveTintColor:"#0066cc",tabBarInactiveTintColor:"gray",headerShown:!1}},style:{pointerEvents:"auto"},children:[(0,F.jsx)(tn.Screen,{name:"Home",component:ft,options:{tabBarLabel:t("home")}}),(0,F.jsx)(tn.Screen,{name:"Browse",component:de,options:{tabBarLabel:t("browse")}}),(0,F.jsx)(tn.Screen,{name:"Exam",component:Ze,options:{tabBarLabel:t("exam")}}),(0,F.jsx)(tn.Screen,{name:"Favorites",component:nt,options:{tabBarLabel:t("favorites")}}),(0,F.jsx)(tn.Screen,{name:"Mistakes",component:Ct,options:{tabBarLabel:t("mistakes")}}),(0,F.jsx)(tn.Screen,{name:"Settings",component:Jt,options:{tabBarLabel:t("settings")}})]})}function on(){var e=(0,s.useState)(!1),t=(0,o.default)(e,2),n=t[0],a=t[1];return(0,s.useEffect)((function(){var e=function(){var e=(0,r.default)((function*(){try{yield S(),a(!0)}catch(e){console.error("Failed to initialize i18n:",e)}}));return function(){return e.apply(this,arguments)}}();e()}),[]),n?(0,F.jsx)(an,{}):(0,F.jsxs)(f.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:[(0,F.jsx)(l.default,{size:"large",color:"#0066cc"}),(0,F.jsx)(u.default,{style:{marginTop:20,fontSize:16,color:"#666"},children:"\u52a0\u8f7d\u4e2d..."})]})}function an(){var e=(0,h.useTranslation)().t,t=function(t){return e(`navigation.${t}`)};return(0,F.jsxs)(nn.Navigator,{screenOptions:{headerShown:!0,headerTitleStyle:{fontWeight:"bold"},headerTintColor:"#0066cc"},children:[(0,F.jsx)(nn.Screen,{name:"Main",component:rn,options:{headerShown:!1}}),(0,F.jsx)(nn.Screen,{name:"QuestionDetail",component:Dt,options:{title:t("question_detail")}}),(0,F.jsx)(nn.Screen,{name:"ExamResult",component:qt,options:{title:t("exam_result"),headerBackVisible:!1}}),(0,F.jsx)(nn.Screen,{name:"StudyProgress",component:Kt,options:{title:t("study_progress")}})]})}function sn(){var e=(0,s.useState)(!1),t=(0,o.default)(e,2),n=t[0],d=t[1],p=(0,s.useState)(null),m=(0,o.default)(p,2),h=m[0],x=m[1];return(0,s.useEffect)((function(){function e(){return(e=(0,r.default)((function*(){try{console.log("App initializing..."),C()||(yield S(),console.log("i18n initialized")),yield ve(),console.log("Database initialized")}catch(e){console.error("Error during app initialization:",e),x(e)}finally{d(!0),yield i.hideAsync()}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),h?(0,F.jsxs)(f.default,{style:ln.container,children:[(0,F.jsx)(u.default,{style:ln.errorText,children:"\u5e94\u7528\u521d\u59cb\u5316\u5931\u8d25"}),(0,F.jsx)(u.default,{style:ln.errorDetails,children:h.message})]}):n?(0,F.jsx)(g.SafeAreaProvider,{children:(0,F.jsxs)(a.default,{children:[(0,F.jsx)(c.default,{barStyle:"dark-content",backgroundColor:"#f8f9fa"}),(0,F.jsx)(on,{})]})}):(0,F.jsxs)(f.default,{style:ln.container,children:[(0,F.jsx)(l.default,{size:"large",color:"#4c669f"}),(0,F.jsx)(u.default,{style:ln.loadingText,children:"\u5e94\u7528\u52a0\u8f7d\u4e2d..."})]})}i.preventAutoHideAsync().catch((function(){}));var ln=d.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f8f9fa",padding:20},loadingText:{marginTop:16,fontSize:16,color:"#666"},errorText:{fontSize:20,fontWeight:"bold",color:"#e74c3c",marginBottom:12},errorDetails:{fontSize:16,color:"#666",textAlign:"center"}})},3664:(e,t,n)=>{e.exports=n.p+"static/media/signal49.e6c78b6ddca0af2fb198.png"},3695:(e,t,n)=>{e.exports=n.p+"static/media/image43.a4dbec9f975cacb5d316.png"},3752:(e,t,n)=>{e.exports=n.p+"static/media/image83.4cdfef59dd4233665e1b.png"},3799:(e,t,n)=>{e.exports=n.p+"static/media/image66.89262dd4226b4ea69cbe.png"},3802:(e,t,n)=>{e.exports=n.p+"static/media/image81.c1ab18ef040a56439dca.png"},3885:(e,t,n)=>{e.exports=n.p+"static/media/image28.70e0e2324c034184d360.png"},4053:(e,t,n)=>{e.exports=n.p+"static/media/signal17.21d9f906f26d747780af.png"},4126:(e,t,n)=>{e.exports=n.p+"static/media/image78.43e95f5f9e3a79671648.png"},4165:(e,t,n)=>{e.exports=n.p+"static/media/image20.1b784d3996c843d61a72.png"},4184:(e,t,n)=>{e.exports=n.p+"static/media/image61.21ecca23e29096eae4c9.png"},4199:(e,t,n)=>{e.exports=n.p+"static/media/signal46.69087355e32705d44158.png"},4229:(e,t,n)=>{e.exports=n.p+"static/media/image86.4ad31a11544f92c189e5.png"},4295:(e,t,n)=>{e.exports=n.p+"static/media/image4.8f7793f8ab39d48bb114.png"},4369:(e,t,n)=>{e.exports=n.p+"static/media/signal39.bfa5541a0074649a128e.png"},4401:(e,t,n)=>{e.exports=n.p+"static/media/image60.f1e5cd38105ed855bd86.png"},4495:(e,t,n)=>{e.exports=n.p+"static/media/signal51.5b5d9dd94dee70a28863.png"},4520:(e,t,n)=>{e.exports=n.p+"static/media/image90.b85cb721a0b5f110a539.png"},4566:(e,t,n)=>{e.exports=n.p+"static/media/signal36.d69b1a2dd75023e8b148.png"},4705:(e,t,n)=>{e.exports=n.p+"static/media/signal13.73d383eb6e230d3016f2.png"},4829:(e,t,n)=>{e.exports=n.p+"static/media/image73.0aa1890d00fd9e9281c9.png"},4884:(e,t,n)=>{e.exports=n.p+"static/media/image72.7c6265b6e11346002bef.png"},5371:(e,t,n)=>{e.exports=n.p+"static/media/signal1.ed66a211222a1e20c76b.png"},5456:(e,t,n)=>{e.exports=n.p+"static/media/image98.71f0b881f00d61369791.png"},5475:(e,t,n)=>{e.exports=n.p+"static/media/image44.a816b0dddec2f59e1e35.png"},5478:(e,t,n)=>{e.exports=n.p+"static/media/signal50.c3a4b0a0a1c36a09dcb7.png"},5537:(e,t,n)=>{e.exports=n.p+"static/media/image46.4e3bc83921761607d751.png"},5642:(e,t,n)=>{e.exports=n.p+"static/media/image45.11d22aad759c51a779cb.png"},5715:(e,t,n)=>{e.exports=n.p+"static/media/image80.11fdec8179a049dda0da.png"},5719:(e,t,n)=>{e.exports=n.p+"static/media/signal15.5e1ec65c08d360aa297f.png"},5811:(e,t,n)=>{e.exports=n.p+"static/media/image31.7a183329530aa138fddc.png"},5820:(e,t,n)=>{e.exports=n.p+"static/media/image7.63b76f4358287eedc7cb.png"},5873:(e,t,n)=>{e.exports=n.p+"static/media/image33.e7cc716175296f6ff866.png"},5895:(e,t,n)=>{e.exports=n.p+"static/media/image84.39b42c85866b6870ca3e.png"},5978:(e,t,n)=>{e.exports=n.p+"static/media/image30.2174adba2ba638e2b582.png"},6217:(e,t,n)=>{e.exports=n.p+"static/media/signal22.946a829b21b53b914be9.png"},6222:(e,t,n)=>{e.exports=n.p+"static/media/signal14.eb8b8a87cbff19d8088b.png"},6246:(e,t,n)=>{e.exports=n.p+"static/media/signal25.6af41ff17a4d1f883999.png"},6254:(e,t,n)=>{e.exports=n.p+"static/media/signal7.bede725ff1667d1a4be9.png"},6398:(e,t,n)=>{e.exports=n.p+"static/media/image85.2761532a1cfb718344c6.png"},6412:(e,t,n)=>{e.exports=n.p+"static/media/image36.3d94e6a5631361a4c36e.png"},6539:(e,t,n)=>{e.exports=n.p+"static/media/image75.4b2a1c5cd17cdadca485.png"},6706:(e,t,n)=>{e.exports=n.p+"static/media/image9.6579c6832b8079773f3e.png"},6744:(e,t,n)=>{e.exports=n.p+"static/media/image25.2b9c82529c16a9d65c64.png"},6758:(e,t,n)=>{e.exports=n.p+"static/media/image49.b97af52a7e6c3e9d8ff2.png"},6759:(e,t,n)=>{e.exports=n.p+"static/media/image40.5866095cf57e73a310d2.png"},6917:(e,t,n)=>{e.exports=n.p+"static/media/image51.be2ae1d31057254079c5.png"},7061:(e,t,n)=>{e.exports=n.p+"static/media/image64.a1c2ec3f5709cec3a0f8.png"},7095:(e,t,n)=>{e.exports=n.p+"static/media/image35.3fb092c53354485c5166.png"},7144:(e,t,n)=>{e.exports=n.p+"static/media/image47.c283b5847c8dc2d9b73b.png"},7177:(e,t,n)=>{e.exports=n.p+"static/media/image68.7f8ab4a3842ce96b1c72.png"},7204:(e,t,n)=>{e.exports=n.p+"static/media/image29.34bf97fdfea9ba28f16d.png"},7290:(e,t,n)=>{e.exports=n.p+"static/media/image27.b003f32a489b94769965.png"},7297:(e,t,n)=>{e.exports=n.p+"static/media/signal40.276bedc847b17351f0c9.png"},7345:(e,t,n)=>{e.exports=n.p+"static/media/react-logo.2b2c8d18a37ac8c9276a.png"},7440:(e,t,n)=>{e.exports=n.p+"static/media/signal30.d04d52935aa59abdefdb.png"},7480:(e,t,n)=>{e.exports=n.p+"static/media/image32.2e83e4e6f058ebb14c64.png"},7701:(e,t,n)=>{e.exports=n.p+"static/media/image42.7b06aa7776454c0ae1c1.png"},7716:(e,t,n)=>{e.exports=n.p+"static/media/image58.ac7e930060496f999c29.png"},7873:(e,t,n)=>{e.exports=n.p+"static/media/image24.d1468f6ae279ef859bf4.png"},8037:(e,t,n)=>{e.exports=n.p+"static/media/image37.849f1ad4b55dc5cd9f3c.png"},8053:(e,t,n)=>{e.exports=n.p+"static/media/signal4.465853dc2c5b1bf40e0d.png"},8135:(e,t,n)=>{e.exports=n.p+"static/media/image53.cc0ed72564abeaef36fa.png"},8142:(e,t,n)=>{e.exports=n.p+"static/media/image52.80e2d48459a93c0e1af3.png"},8208:(e,t,n)=>{e.exports=n.p+"static/media/image76.079689ba200da6aa5628.png"},8314:(e,t,n)=>{e.exports=n.p+"static/media/signal43.4be534a451dd4f449783.png"},8316:(e,t,n)=>{e.exports=n.p+"static/media/image87.c5d495218cf9eb557732.png"},8420:(e,t,n)=>{e.exports=n.p+"static/media/signal27.e2bf1b8e28aef1033474.png"},8520:(e,t,n)=>{e.exports=n.p+"static/media/image54.8f5495bfa38a06c4e6a8.png"},8611:(e,t,n)=>{e.exports=n.p+"static/media/signal28.30689de30df60f100e52.png"},8636:(e,t,n)=>{e.exports=n.p+"static/media/signal5.dd8cce573f3b1fc89e4a.png"},8709:(e,t,n)=>{e.exports=n.p+"static/media/image6.a4a5dccf461cd408f2ed.png"},8725:(e,t,n)=>{e.exports=n.p+"static/media/image95.bf839be62f1dce9fb695.png"},8778:(e,t,n)=>{e.exports=n.p+"static/media/signal29.65d8f07033aa5aaca09e.png"},8845:(e,t,n)=>{e.exports=n.p+"static/media/image59.e534d71c2aa0714a0415.png"},8882:(e,t,n)=>{e.exports=n.p+"static/media/image38.0c5a39b50c9387f82ea9.png"},8929:(e,t,n)=>{e.exports=n.p+"static/media/image67.f1ccf7886adb8bb28a91.png"},9032:(e,t,n)=>{e.exports=n.p+"static/media/signal41.2b8cc1307a102afe3426.png"},9073:(e,t,n)=>{e.exports=n.p+"static/media/image2.e212c94bfdaea0a73704.png"},9128:(e,t,n)=>{e.exports=n.p+"static/media/image3.a2d36ddb3dd015657908.png"},9186:(e,t,n)=>{e.exports=n.p+"static/media/signal32.cc0dc331ad17b2bb91ed.png"},9187:(e,t,n)=>{e.exports=n.p+"static/media/signal11.1c8f97371b9a0be8f2fd.png"},9202:(e,t,n)=>{e.exports=n.p+"static/media/image89.7c624d17f25d7259138d.png"},9271:(e,t,n)=>{e.exports=n.p+"static/media/signal6.c2f5de535b30646dda25.png"},9289:(e,t,n)=>{e.exports=n.p+"static/media/signal8.e9e246a8aff6d72181c7.png"},9383:(e,t,n)=>{e.exports=n.p+"static/media/image22.6ecdf7fd12fdc5564b8f.png"},9404:(e,t,n)=>{e.exports=n.p+"static/media/image50.fcc9b6ef95be8be65b78.png"},9535:(e,t,n)=>{e.exports=n.p+"static/media/image71.47c899581035333ea85d.png"},9628:(e,t,n)=>{e.exports=n.p+"static/media/image94.d24f5303e02330fee6e9.png"},9687:(e,t,n)=>{e.exports=n.p+"static/media/image97.6f3ff1c1f3e0ebf868b1.png"},9795:(e,t,n)=>{e.exports=n.p+"static/media/image93.3082909f1a673fcfcee5.png"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,a)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,o,a]=e[d],s=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,o,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{232:"d40c0fe6",643:"20411701",757:"c251cf27",778:"58e65c94"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="web:";n.l=(r,o,a,i)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+a){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[o];var f=(t,n)=>{s.onerror=s.onload=null,clearTimeout(g);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},g=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/cz-driver/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=a);var i=n.p+n.u(t),s=new Error;n.l(i,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}}),"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,s,l]=r,c=0;if(i.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var d=l(n)}for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[34],(()=>n(5036)));r=n.O(r)})();
//# sourceMappingURL=main.e762a05b.js.map